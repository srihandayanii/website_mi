var styleSwitcher={initialized:!1,defaults:{saveToStorage:!0,preserveCookies:!1,colorPrimary:"#0088CC",colorSecondary:"#E36159",colorTertiary:"#2BAAB1",colorQuaternary:"#383f48",borderRadius:"4px",layoutStyle:"wide",websiteType:"normal",backgroundColor:"light",backgroundPattern:"",changeLogo:!0},initialize:function(){var e=this,f=$("html").data("style-switcher-options");if(!this.initialized){if($("html").hasClass("ie8")){e.setLogo(!0);var g,h="css/skins/default-ie8.css";return g=document.createElement("link"),g.rel="stylesheet",g.href=h,document.getElementsByTagName("head")[0].appendChild(g),!1}e.options=$.extend({},e.defaults),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},jQuery.styleSwitcherCachedScript=function(c,d){return d=$.extend(d||{},{dataType:"script",cache:!0,url:c}),jQuery.ajax(d)},null!=$.cookie("borderRadius")&&(e.options.borderRadius=$.cookie("borderRadius")),null!=$.cookie("colorPrimary")&&(e.options.colorPrimary="#"+$.cookie("colorPrimary")),null!=$.cookie("colorSecondary")&&(e.options.colorSecondary="#"+$.cookie("colorSecondary")),null!=$.cookie("colorTertiary")&&(e.options.colorTertiary="#"+$.cookie("colorTertiary")),null!=$.cookie("colorQuaternary")&&(e.options.colorQuaternary="#"+$.cookie("colorQuaternary")),f&&(f=f.replace(/'/g,'"'),e.options=$.extend({},e.options,JSON.parse(f)),e.options.preserveCookies=!0,e.options.saveToStorage=!1),$("head").append($('<link rel="stylesheet">').attr("href","master/style-switcher/style-switcher.css")),$("head").append($('<link rel="stylesheet/less">').attr("href","master/less/skin-default.less")),$("head").append($('<link rel="stylesheet">').attr("href","master/style-switcher/bootstrap-colorpicker/css/bootstrap-colorpicker.css")),$.styleSwitcherCachedScript("master/style-switcher/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js").done(function(a,b){less={env:"development",modifyVars:{"@border-radius":e.options.borderRadius,"@color-primary":e.options.colorPrimary,"@color-secondary":e.options.colorSecondary,"@color-tertiary":e.options.colorTertiary,"@color-quaternary":e.options.colorQuaternary}},$.styleSwitcherCachedScript("master/less/less.js").done(function(i,j){$.ajax({url:"master/style-switcher/style.switcher.html"}).done(function(d){$("body").append(d),e.container=$("#styleSwitcher"),e.build(),e.events(),"img/logo.png"!=$("#header .header-logo img").attr("src")&&(e.options.changeLogo=!1),f||(null!=$.cookie("layoutStyle")&&(e.options.layoutStyle=$.cookie("layoutStyle")),$("body").hasClass("one-page")&&(e.options.websiteType="one-page"),null!=$.cookie("backgroundColor")&&(e.options.backgroundColor=$.cookie("backgroundColor")),null!=$.cookie("backgroundPattern")&&(e.options.backgroundPattern=$.cookie("backgroundPattern"))),e.setLayoutStyle(e.options.layoutStyle),e.setWebsiteType(e.options.websiteType),e.setBackgroundColor(e.options.backgroundColor),e.setBackgroundPattern(e.options.backgroundPattern),e.setColors(),e.setBorderRadius(e.options.borderRadius),null==$.cookie("initialized")&&(e.container.find("#styleSwitcherOpen").click(),$.cookie("initialized",!0)),e.initialized=!0})})}),$.styleSwitcherCachedScript("master/style-switcher/cssbeautify/cssbeautify.js").done(function(c,d){})}},build:function(){var g=this,h=g.container.find(".color-primary input"),i=g.container.find(".color-secondary input"),j=g.container.find(".color-tertiary input"),k=g.container.find(".color-quaternary input");h.val(g.options.colorPrimary).parent().colorpicker(),i.val(g.options.colorSecondary).parent().colorpicker(),j.val(g.options.colorTertiary).parent().colorpicker(),k.val(g.options.colorQuaternary).parent().colorpicker(),$(".colorpicker").on("mousedown",function(a){a.preventDefault(),g.isChanging=!0}).on("mouseup",function(a){a.preventDefault(),g.isChanging=!1,g.options.colorPrimary=h.val(),g.options.colorSecondary=i.val(),g.options.colorTertiary=j.val(),g.options.colorQuaternary=k.val(),g.setColors()}),$(".colorpicker-element input").on("blur",function(a){g.options.colorPrimary=h.val(),g.options.colorSecondary=i.val(),g.options.colorTertiary=j.val(),g.options.colorQuaternary=k.val(),g.setColors()}),this.container.find(".options-links.borders a").click(function(a){a.preventDefault(),g.setBorderRadius($(this).attr("data-border-radius"))}),this.container.find(".options-links.layout a").click(function(a){a.preventDefault(),g.setLayoutStyle($(this).attr("data-layout-type"),!0)}),this.container.find(".options-links.website-type a").click(function(b){b.preventDefault(),$.cookie("showSwitcher",!0),self.location=$(this).attr("href")}),this.container.find(".options-links.background-color a").click(function(a){a.preventDefault(),g.setBackgroundColor($(this).attr("data-background-color"))});var l=this.container.find("ul[data-type=patterns]");l.find("a").click(function(a){a.preventDefault(),g.setBackgroundPattern($(this).attr("data-pattern"))}),g.container.find(".reset").click(function(a){a.preventDefault(),g.reset()}),g.container.find(".get-css").click(function(a){a.preventDefault(),g.getCss()})},events:function(){var b=this;$("#styleSwitcherOpen").click(function(a){a.preventDefault(),b.container.hasClass("active")?b.container.animate({left:"-"+b.container.width()+"px"},300).removeClass("active"):b.container.animate({left:"0"},300).addClass("active")}),(null!=$.cookie("showSwitcher")||$("body").hasClass("one-page"))&&($("#styleSwitcherOpen").click(),$.removeCookie("showSwitcher"))},setColors:function(d,e){var f=this;return this.isChanging?!1:(d&&(f.options["color"+e.capitalize()]=d,f.container.find(".color-"+e+" input").val(d)),f.options.preserveCookies||($.cookie("colorPrimary",f.options.colorPrimary.replace("#","")),$.cookie("colorSecondary",f.options.colorSecondary.replace("#","")),$.cookie("colorTertiary",f.options.colorTertiary.replace("#","")),$.cookie("colorQuaternary",f.options.colorQuaternary.replace("#",""))),f.modifyVars(),void this.setLogo())},setBorderRadius:function(d){var e=this;e.options.borderRadius=d,e.options.preserveCookies||$.cookie("borderRadius",d),e.modifyVars();var f=this.container.find(".options-links.borders");f.find(".active").removeClass("active"),f.find("a[data-border-radius="+d+"]").addClass("active"),$.event.trigger({type:"styleSwitcher.setBorderRadius",radius:d})},setLayoutStyle:function(f,g){var h=this;if($("body").hasClass("one-page")){return !1}if(h.options.preserveCookies||$.cookie("layoutStyle",f),this.options.saveToStorage&&"undefined"!=typeof localStorage&&localStorage.setItem("layout",f),g){return $.cookie("showSwitcher",!0),window.location.reload(),!1}var i=this.container.find(".options-links.layout"),j=this.container.find(".patterns");i.find(".active").removeClass("active"),i.find("a[data-layout-type="+f+"]").addClass("active"),"wide"==f?(j.hide(),$("html").removeClass("boxed"),$.removeCookie("backgroundPattern")):(j.show(),$("html").addClass("boxed"),null==$.cookie("backgroundPattern")&&this.container.find("ul[data-type=patterns] li:first a").click()),$.event.trigger({type:"styleSwitcher.setLayoutStyle",style:f})},setWebsiteType:function(d){var e=this.container.find(".options-links.website-type"),f=this.container.find(".options-links.layout");"one-page"==d?(e.find("a:last").addClass("active"),f.prev().remove(),f.remove()):e.find("a:first").addClass("active")},setBackgroundColor:function(d){var e=this;e.options.preserveCookies||$.cookie("backgroundColor",d);var f=this.container.find(".options-links.background-color");f.find(".active").removeClass("active"),f.find("a[data-background-color="+d+"]").addClass("active"),"dark"==d?$("html").addClass("dark"):$("html").removeClass("dark"),$.event.trigger({type:"styleSwitcher.setBackgroundColor",color:d}),this.setLogo()},setBackgroundPattern:function(d){var e=this;if(""==d){return this}var f=$("html").hasClass("boxed");f&&$("html").css("background-image","url(img/patterns/"+d+".png)"),e.options.preserveCookies||$.cookie("backgroundPattern",d),$.event.trigger({type:"styleSwitcher.setBackgroundPattern",pattern:d})},setLogo:function(b){return this.options.changeLogo?(b||("#"+$.cookie("colorPrimary")).toUpperCase()==this.defaults.colorPrimary.toUpperCase()&&"dark"!=$.cookie("backgroundColor")?$("#header .header-logo img").attr("src","img/logo-default.png"):"dark"==$.cookie("backgroundColor")?$("#header .header-logo img").attr("src","img/logo-dark.png"):$("#header .header-logo img").attr("src","img/logo.png"),void $.event.trigger({type:"styleSwitcher.setLogo"})):this},modifyVars:function(){var b=this;less.modifyVars({"@border-radius":b.options.borderRadius,"@color-primary":b.options.colorPrimary,"@color-secondary":b.options.colorSecondary,"@color-tertiary":b.options.colorTertiary,"@color-quaternary":b.options.colorQuaternary}),this.options.saveToStorage&&"undefined"!=typeof localStorage&&localStorage.setItem("skin.css",$('style[id^="less:"]').text())},reset:function(){$.removeCookie("borderRadius"),$.removeCookie("colorPrimary"),$.removeCookie("colorSecondary"),$.removeCookie("colorTertiary"),$.removeCookie("colorQuaternary"),$.removeCookie("layoutStyle"),$.removeCookie("backgroundColor"),$.removeCookie("backgroundPattern"),$.cookie("showSwitcher",!0),window.location.reload(),"undefined"!=typeof localStorage&&(localStorage.removeItem("skin.css"),localStorage.removeItem("layout"))},getCss:function(){raw="";var b=$("html").hasClass("boxed");b?(raw='body { background-image: url("../../img/patterns/'+$.cookie("pattern")+'.png"); }',$("#addBoxedClassInfo").show()):$("#addBoxedClassInfo").hide(),$("#getCSSTextarea").text($('style[id^="less:"]').text()).focus(function(){var c=$(this);c.select(),c.mouseup(function(){return c.unbind("mouseup"),!1})}),$("#getCSSModal").modal("show"),options={indent:"	",autosemicolon:!0},raw+=$("#getCSSTextarea").text(),$("#getCSSTextarea").text(cssbeautify(raw,options))}};styleSwitcher.initialize();