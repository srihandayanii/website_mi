(function(a,f,e){var b="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(j){var h=this,k=a.isFunction(a.Deferred)?a.Deferred():0,m=a.isFunction(k.notify),g=h.find("img").add(h.filter("img")),p=[],q=[],i=[];if(a.isPlainObject(j)){a.each(j,function(r,s){if(r==="callback"){j=s}else{if(k){k[r](s)}}})}function l(){var s=a(q),r=a(i);if(k){if(i.length){k.reject(g,s,r)}else{k.resolve(g)}}if(a.isFunction(j)){j.call(h,g,s,r)}}function o(r){n(r.target,r.type==="error")}function n(r,s){if(r.src===b||a.inArray(r,p)!==-1){return}p.push(r);if(s){i.push(r)}else{q.push(r)}a.data(r,"imagesLoaded",{isBroken:s,src:r.src});if(m){k.notifyWith(a(r),[s,g,a(q),a(i)])}if(g.length===p.length){setTimeout(l);g.unbind(".imagesLoaded",o)}}if(!g.length){l()}else{g.bind("load.imagesLoaded error.imagesLoaded",o).each(function(t,s){var u=s.src;var r=a.data(s,"imagesLoaded");if(r&&r.src===u){n(s,r.isBroken);return}if(s.complete&&s.naturalWidth!==e){n(s,s.naturalWidth===0||s.naturalHeight===0);return}if(s.readyState||s.complete){s.src=b;s.src=u}})}return k?k.promise(h):h};var d=f.Modernizr;a.Flipshow=function(h,g){this.$el=a(g);this._init(h)};a.Flipshow.defaults={speed:700,easing:"ease-out"};a.Flipshow.prototype={_init:function(g){this.options=a.extend(true,{},a.Flipshow.defaults,g);this.support=d.csstransitions&&d.csstransforms3d&&!(/MSIE (\d+\.\d+);/.test(navigator.userAgent));var h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},i={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"};if(this.support){this.transEndEventName=h[d.prefixed("transition")]+".cbpFWSlider";this.transformName=i[d.prefixed("transform")]}this.transitionProperties=this.transformName+" "+this.options.speed+"ms "+this.options.easing;this.$listItems=this.$el.children("ul.fc-slides");this.$items=this.$listItems.children("li").hide();this.itemsCount=this.$items.length;this.current=0;this.$listItems.imagesLoaded(a.proxy(function(){this.$items.eq(this.current).show();if(this.itemsCount>0){this._addNav();if(this.support){this._layout()}}},this))},_addNav:function(){var i=this,g=a('<div class="fc-left"><span></span><span></span><span></span><i class="fa fa-arrow-left"></i></div>'),h=a('<div class="fc-right"><span></span><span></span><span></span><i class="fa fa-arrow-right"></i></div>');a("<nav></nav>").append(g,h).appendTo(this.$el);g.find("span").on("click.flipshow touchstart.flipshow",function(){i._navigate(a(this),"left")});h.find("span").on("click.flipshow touchstart.flipshow",function(){i._navigate(a(this),"right")})},_layout:function(g,h){this.$flipFront=a('<div class="fc-front"><div></div></div>');this.$frontContent=this.$flipFront.children("div:first");this.$flipBack=a('<div class="fc-back"><div></div></div>');this.$backContent=this.$flipBack.children("div:first");this.$flipEl=a('<div class="fc-flip"></div>').append(this.$flipFront,this.$flipBack).hide().appendTo(this.$el)},_navigate:function(h,j){if(this.isAnimating&&this.support){return false}this.isAnimating=true;var g=this.$items.eq(this.current).hide();if(j==="right"){this.current<this.itemsCount-1?++this.current:this.current=0}else{if(j==="left"){this.current>0?--this.current:this.current=this.itemsCount-1}}var i=this.$items.eq(this.current);if(this.support){this._flip(g,i,j,h.index())}else{i.show()}},_flip:function(g,h,l,k){var o="",j=a('<div class="fc-overlay-light"></div>'),i=a('<div class="fc-overlay-dark"></div>');if(typeof this.$flipEl=="undefined"){return}this.$flipEl.css("transition",this.transitionProperties);this.$flipFront.find("div.fc-overlay-light, div.fc-overlay-dark").remove();this.$flipBack.find("div.fc-overlay-light, div.fc-overlay-dark").remove();if(l==="right"){this.$flipFront.append(j);this.$flipBack.append(i);i.css("opacity",1)}else{if(l==="left"){this.$flipFront.append(i);this.$flipBack.append(j);j.css("opacity",1)}}var m={transition:"opacity "+(this.options.speed/1.3)+"ms"};j.css(m);i.css(m);switch(k){case 0:o=l==="left"?"rotate3d(-1,1,0,-179deg) rotate3d(-1,1,0,-1deg)":"rotate3d(1,1,0,180deg)";break;case 1:o=l==="left"?"rotate3d(0,1,0,-179deg) rotate3d(0,1,0,-1deg)":"rotate3d(0,1,0,180deg)";break;case 2:o=l==="left"?"rotate3d(1,1,0,-179deg) rotate3d(1,1,0,-1deg)":"rotate3d(-1,1,0,179deg) rotate3d(-1,1,0,1deg)";break}this.$flipBack.css("transform",o);this.$frontContent.empty().html(g.html());this.$backContent.empty().html(h.html());this.$flipEl.show();var n=this;setTimeout(function(){n.$flipEl.css("transform",o);j.css("opacity",l==="right"?1:0);i.css("opacity",l==="right"?0:1);n.$flipEl.on(n.transEndEventName,function(p){if(p.target.className==="fc-overlay-light"||p.target.className==="fc-overlay-dark"){return}n._ontransitionend(h)})},25)},_ontransitionend:function(g){g.show();this.$flipEl.off(this.transEndEventName).css({transition:"none",transform:"none"}).hide();this.isAnimating=false}};var c=function(g){if(f.console){f.console.error(g)}};a.fn.flipshow=function(h){if(typeof h==="string"){var g=Array.prototype.slice.call(arguments,1);this.each(function(){var i=a.data(this,"flipshow");if(!i){c("cannot call methods on flipshow prior to initialization; attempted to call method '"+h+"'");return}if(!a.isFunction(i[h])||h.charAt(0)==="_"){c("no such method '"+h+"' for flipshow instance");return}i[h].apply(i,g)})}else{this.each(function(){var i=a.data(this,"flipshow");if(i){i._init()}else{i=a.data(this,"flipshow",new a.Flipshow(h,this))}})}return this}})(jQuery,window);