/*
 * Isotope PACKAGED v2.2.0
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * http://isotope.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(d){function a(){}function b(h){function e(i){i.prototype.option||(i.prototype.option=function(j){h.isPlainObject(j)&&(this.options=h.extend(!0,this.options,j))})}function f(j,k){h.fn[j]=function(o){if("string"==typeof o){for(var r=c.call(arguments,1),i=0,t=this.length;t>i;i++){var q=this[i],m=h.data(q,j);if(m){if(h.isFunction(m[o])&&"_"!==o.charAt(0)){var l=m[o].apply(m,r);if(void 0!==l){return l}}else{g("no such method '"+o+"' for "+j+" instance")}}else{g("cannot call methods on "+j+" prior to initialization; attempted to call '"+o+"'")}}return this}return this.each(function(){var n=h.data(this,j);n?(n.option(o),n._init()):(n=new k(this,o),h.data(this,j,n))})}}if(h){var g="undefined"==typeof console?a:function(i){console.error(i)};return h.bridget=function(j,i){e(i),f(j,i)},h.bridget}}var c=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery.isotope.min.js"],b):"object"==typeof exports?b(require("jquery")):b(d.jQuery)})(window),function(g){function a(h){var j=g.event;return j.target=j.target||j.srcElement||h,j}var b=document.documentElement,d=function(){};b.addEventListener?d=function(k,h,j){k.addEventListener(h,j,!1)}:b.attachEvent&&(d=function(j,e,h){j[e+h]=h.handleEvent?function(){var k=a(j);h.handleEvent.call(h,k)}:function(){var k=a(j);h.call(j,k)},j.attachEvent("on"+e,j[e+h])});var c=function(){};b.removeEventListener?c=function(k,h,j){k.removeEventListener(h,j,!1)}:b.detachEvent&&(c=function(l,h,j){l.detachEvent("on"+h,l[h+j]);try{delete l[h+j]}catch(k){l[h+j]=void 0}});var f={bind:d,unbind:c};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:g.eventie=f}(window),function(){function g(){}function a(k,h){for(var j=k.length;j--;){if(k[j].listener===h){return j}}return -1}function b(e){return function(){return this[e].apply(this,arguments)}}var d=g.prototype,c=this,f=c.EventEmitter;d.getListeners=function(l){var h,j,k=this._getEvents();if(l instanceof RegExp){h={};for(j in k){k.hasOwnProperty(j)&&l.test(j)&&(h[j]=k[j])}}else{h=k[l]||(k[l]=[])}return h},d.flattenListeners=function(k){var h,j=[];for(h=0;k.length>h;h+=1){j.push(k[h].listener)}return j},d.getListenersAsObject=function(k){var h,j=this.getListeners(k);return j instanceof Array&&(h={},h[k]=j),h||j},d.addListener=function(l,e){var j,h=this.getListenersAsObject(l),k="object"==typeof e;for(j in h){h.hasOwnProperty(j)&&-1===a(h[j],e)&&h[j].push(k?e:{listener:e,once:!1})}return this},d.on=b("addListener"),d.addOnceListener=function(i,h){return this.addListener(i,{listener:h,once:!0})},d.once=b("addOnceListener"),d.defineEvent=function(e){return this.getListeners(e),this},d.defineEvents=function(i){for(var h=0;i.length>h;h+=1){this.defineEvent(i[h])}return this},d.removeListener=function(l,e){var j,h,k=this.getListenersAsObject(l);for(h in k){k.hasOwnProperty(h)&&(j=a(k[h],e),-1!==j&&k[h].splice(j,1))}return this},d.off=b("removeListener"),d.addListeners=function(i,h){return this.manipulateListeners(!1,i,h)},d.removeListeners=function(i,h){return this.manipulateListeners(!0,i,h)},d.manipulateListeners=function(q,h,j){var l,k,m=q?this.removeListener:this.addListener,p=q?this.removeListeners:this.addListeners;if("object"!=typeof h||h instanceof RegExp){for(l=j.length;l--;){m.call(this,h,j[l])}}else{for(l in h){h.hasOwnProperty(l)&&(k=h[l])&&("function"==typeof k?m.call(this,l,k):p.call(this,l,k))}}return this},d.removeEvent=function(l){var h,j=typeof l,k=this._getEvents();if("string"===j){delete k[l]}else{if(l instanceof RegExp){for(h in k){k.hasOwnProperty(h)&&l.test(h)&&delete k[h]}}else{delete this._events}}return this},d.removeAllListeners=b("removeEvent"),d.emitEvent=function(q,h){var j,l,k,m,p=this.getListenersAsObject(q);for(k in p){if(p.hasOwnProperty(k)){for(l=p[k].length;l--;){j=p[k][l],j.once===!0&&this.removeListener(q,j.listener),m=j.listener.apply(this,h||[]),m===this._getOnceReturnValue()&&this.removeListener(q,j.listener)}}}return this},d.trigger=b("emitEvent"),d.emit=function(i){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,h)},d.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},g.noConflict=function(){return c.EventEmitter=f,g},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return g}):"object"==typeof module&&module.exports?module.exports=g:c.EventEmitter=g}.call(this),function(d){function a(i){if(i){if("string"==typeof c[i]){return i}i=i.charAt(0).toUpperCase()+i.slice(1);for(var f,g=0,h=b.length;h>g;g++){if(f=b[g]+i,"string"==typeof c[f]){return f}}}}var b="Webkit Moz ms Ms O".split(" "),c=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return a}):"object"==typeof exports?module.exports=a:d.getStyleProperty=a}(window),function(h){function a(l){var j=parseFloat(l),k=-1===l.indexOf("%")&&!isNaN(j);return k&&j}function b(){}function d(){for(var m={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},j=0,k=g.length;k>j;j++){var l=g[j];m[l]=0}return m}function c(m){function o(){if(!j){j=!0;var t=h.getComputedStyle;if(q=function(){var n=t?function(s){return t(s,null)}:function(s){return s.currentStyle};return function(s){var v=n(s);return v||f("Style returned "+v+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),v}}(),l=m("boxSizing")){var p=document.createElement("div");p.style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style[l]="border-box";var u=document.body||document.documentElement;u.appendChild(p);var i=q(p);k=200===a(i.width),u.removeChild(p)}}}function e(K){if(o(),"string"==typeof K&&(K=document.querySelector(K)),K&&"object"==typeof K&&K.nodeType){var C=q(K);if("none"===C.display){return d()}var J={};J.width=K.offsetWidth,J.height=K.offsetHeight;for(var p=J.isBorderBox=!(!l||!C[l]||"border-box"!==C[l]),w=0,F=g.length;F>w;w++){var u=g[w],H=C[u];H=r(K,H);var O=parseFloat(H);J[u]=isNaN(O)?0:O}var B=J.paddingLeft+J.paddingRight,M=J.paddingTop+J.paddingBottom,n=J.marginLeft+J.marginRight,D=J.marginTop+J.marginBottom,P=J.borderLeftWidth+J.borderRightWidth,G=J.borderTopWidth+J.borderBottomWidth,N=p&&k,A=a(C.width);A!==!1&&(J.width=A+(N?0:B+P));var s=a(C.height);return s!==!1&&(J.height=s+(N?0:M+G)),J.innerWidth=J.width-(B+P),J.innerHeight=J.height-(M+G),J.outerWidth=J.width+n,J.outerHeight=J.height+D,J}}function r(p,t){if(h.getComputedStyle||-1===t.indexOf("%")){return t}var v=p.style,u=v.left,w=p.runtimeStyle,x=w&&w.left;return x&&(w.left=p.currentStyle.left),v.left=t,t=v.pixelLeft,v.left=u,x&&(w.left=x),t}var q,l,k,j=!1;return e}var f="undefined"==typeof console?b:function(e){console.error(e)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],c):"object"==typeof exports?module.exports=c(require("desandro-get-style-property")):h.getSize=c(h.getStyleProperty)}(window),function(h){function a(e){"function"==typeof e&&(a.isReady?e():g.push(e))}function b(j){var e="readystatechange"===j.type&&"complete"!==f.readyState;a.isReady||e||d()}function d(){a.isReady=!0;for(var k=0,e=g.length;e>k;k++){var j=g[k];j()}}function c(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",b),e.bind(f,"readystatechange",b),e.bind(h,"load",b)),a}var f=h.document,g=[];a.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],c):"object"==typeof exports?module.exports=c(require("eventie")):h.docReady=c(h.eventie)}(window),function(k){function c(i,a){return i[j](a)}function d(i){if(!i.parentNode){var a=document.createDocumentFragment();a.appendChild(i)}}function g(q,a){d(q);for(var m=q.parentNode.querySelectorAll(a),i=0,p=m.length;p>i;i++){if(m[i]===q){return !0}}return !1}function f(e,a){return d(e),c(e,a)}var h,j=function(){if(k.matches){return"matches"}if(k.matchesSelector){return"matchesSelector"}for(var a=["webkit","moz","ms","o"],m=0,q=a.length;q>m;m++){var p=a[m],s=p+"MatchesSelector";if(k[s]){return s}}}();if(j){var b=document.createElement("div"),l=c(b,"div");h=l?c:f}else{h=g}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return h}):"object"==typeof exports?module.exports=h:window.matchesSelector=h}(Element.prototype),function(b,a){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("doc-ready"),require("desandro-matches-selector")):b.fizzyUIUtils=a(b,b.docReady,b.matchesSelector)}(window,function(g,a,b){var d={};d.extend=function(k,h){for(var j in h){k[j]=h[j]}return k},d.modulo=function(i,h){return(i%h+h)%h};var c=Object.prototype.toString;d.isArray=function(e){return"[object Array]"==c.call(e)},d.makeArray=function(l){var h=[];if(d.isArray(l)){h=l}else{if(l&&"number"==typeof l.length){for(var j=0,k=l.length;k>j;j++){h.push(l[j])}}else{h.push(l)}}return h},d.indexOf=Array.prototype.indexOf?function(i,h){return i.indexOf(h)}:function(l,h){for(var j=0,k=l.length;k>j;j++){if(l[j]===h){return j}}return -1},d.removeFrom=function(k,h){var j=d.indexOf(k,h);-1!=j&&k.splice(j,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},d.setText=function(){function i(j,e){h=h||(void 0!==document.documentElement.textContent?"textContent":"innerText"),j[h]=e}var h;return i}(),d.getParent=function(i,h){for(;i!=document.body;){if(i=i.parentNode,b(i,h)){return i}}},d.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},d.handleEvent=function(i){var h="on"+i.type;this[h]&&this[h](i)},d.filterFindElements=function(v,j){v=d.makeArray(v);for(var l=[],o=0,q=v.length;q>o;o++){var i=v[o];if(d.isElement(i)){if(j){b(i,j)&&l.push(i);for(var w=i.querySelectorAll(j),m=0,k=w.length;k>m;m++){l.push(w[m])}}else{l.push(i)}}}return l},d.debounceMethod=function(m,h,j){var l=m.prototype[h],k=h+"Timeout";m.prototype[h]=function(){var o=this[k];o&&clearTimeout(o);var i=arguments,n=this;this[k]=setTimeout(function(){l.apply(n,i),delete n[k]},j||100)}},d.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(k,h,j){return h+"-"+j}).toLowerCase()};var f=g.console;return d.htmlInit=function(e,h){a(function(){for(var n=d.toDashed(h),w=document.querySelectorAll(".js-"+n),i="data-"+n+"-options",x=0,v=w.length;v>x;x++){var q,o=w[x],k=o.getAttribute(i);try{q=k&&JSON.parse(k)}catch(r){f&&f.error("Error parsing "+i+" on "+o.nodeName.toLowerCase()+(o.id?"#"+o.id:"")+": "+r);continue}var j=new e(o,q),t=g.jQuery;t&&t.data(o,h,j)}})},d}),function(b,a){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,e,d,f){return a(b,c,e,d,f)}):"object"==typeof exports?module.exports=a(b,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(b.Outlayer={},b.Outlayer.Item=a(b,b.EventEmitter,b.getSize,b.getStyleProperty,b.fizzyUIUtils))}(window,function(J,w,B,F,E){function H(c){for(var a in c){return !1}return a=null,!0}function I(c,a){c&&(this.element=c,this.layout=a,this.position={x:0,y:0},this._create())}var j=J.getComputedStyle,K=j?function(a){return j(a,null)}:function(a){return a.currentStyle},G=F("transition"),A=F("transform"),x=G&&A,q=!!F("perspective"),C={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[G],k=["transform","transition","transitionDuration","transitionProperty"],D=function(){for(var g={},a=0,c=k.length;c>a;a++){var d=k[a],f=F(d);f&&f!==d&&(g[d]=f)}return g}();E.extend(I.prototype,w.prototype),I.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},I.prototype.handleEvent=function(c){var a="on"+c.type;this[a]&&this[a](c)},I.prototype.getSize=function(){this.size=B(this.element)},I.prototype.css=function(f){var a=this.element.style;for(var c in f){var d=D[c]||c;a[d]=f[c]}},I.prototype.getPosition=function(){var l=K(this.element),a=this.layout.options,c=a.isOriginLeft,f=a.isOriginTop,d=parseInt(l[c?"left":"right"],10),g=parseInt(l[f?"top":"bottom"],10);d=isNaN(d)?0:d,g=isNaN(g)?0:g;var h=this.layout.size;d-=c?h.paddingLeft:h.paddingRight,g-=f?h.paddingTop:h.paddingBottom,this.position.x=d,this.position.y=g},I.prototype.layoutPosition=function(){var O=this.layout.size,d=this.layout.options,g={},m=d.isOriginLeft?"paddingLeft":"paddingRight",l=d.isOriginLeft?"left":"right",y=d.isOriginLeft?"right":"left",N=this.position.x+O[m];N=d.percentPosition&&!d.isHorizontal?100*(N/O.width)+"%":N+"px",g[l]=N,g[y]="";var c=d.isOriginTop?"paddingTop":"paddingBottom",P=d.isOriginTop?"top":"bottom",v=d.isOriginTop?"bottom":"top",f=this.position.y+O[c];f=d.percentPosition&&d.isHorizontal?100*(f/O.height)+"%":f+"px",g[P]=f,g[v]="",this.css(g),this.emitEvent("layout",[this])};var M=q?function(c,a){return"translate3d("+c+"px, "+a+"px, 0)"}:function(c,a){return"translate("+c+"px, "+a+"px)"};I.prototype._transitionTo=function(O,d){this.getPosition();var g=this.position.x,m=this.position.y,l=parseInt(O,10),y=parseInt(d,10),N=l===this.position.x&&y===this.position.y;if(this.setPosition(O,d),N&&!this.isTransitioning){return this.layoutPosition(),void 0}var c=O-g,P=d-m,v={},f=this.layout.options;c=f.isOriginLeft?c:-c,P=f.isOriginTop?P:-P,v.transform=M(c,P),this.transition({to:v,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},I.prototype.goTo=function(c,a){this.setPosition(c,a),this.layoutPosition()},I.prototype.moveTo=x?I.prototype._transitionTo:I.prototype.goTo,I.prototype.setPosition=function(c,a){this.position.x=parseInt(c,10),this.position.y=parseInt(a,10)},I.prototype._nonTransition=function(c){this.css(c.to),c.isCleaning&&this._removeStyles(c.to);for(var a in c.onTransitionEnd){c.onTransitionEnd[a].call(this)}},I.prototype._transition=function(f){if(!parseFloat(this.layout.options.transitionDuration)){return this._nonTransition(f),void 0}var a=this._transn;for(var c in f.onTransitionEnd){a.onEnd[c]=f.onTransitionEnd[c]}for(c in f.to){a.ingProperties[c]=!0,f.isCleaning&&(a.clean[c]=!0)}if(f.from){this.css(f.from);var d=this.element.offsetHeight;d=null}this.enableTransition(f.to),this.css(f.to),this.isTransitioning=!0};var z=A&&E.toDashed(A)+",opacity";I.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:z,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(C,this,!1))},I.prototype.transition=I.prototype[G?"_transition":"_nonTransition"],I.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},I.prototype.onotransitionend=function(a){this.ontransitionend(a)};var L={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};I.prototype.ontransitionend=function(f){if(f.target===this.element){var a=this._transn,c=L[f.propertyName]||f.propertyName;if(delete a.ingProperties[c],H(a.ingProperties)&&this.disableTransition(),c in a.clean&&(this.element.style[f.propertyName]="",delete a.clean[c]),c in a.onEnd){var d=a.onEnd[c];d.call(this),delete a.onEnd[c]}this.emitEvent("transitionEnd",[this])}},I.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(C,this,!1),this.isTransitioning=!1},I.prototype._removeStyles=function(d){var a={};for(var c in d){a[c]=""}this.css(a)};var b={transitionProperty:"",transitionDuration:""};return I.prototype.removeTransitionStyles=function(){this.css(b)},I.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},I.prototype.remove=function(){if(!G||!parseFloat(this.layout.options.transitionDuration)){return this.removeElem(),void 0}var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},I.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var d=this.layout.options,a={},c=this.getHideRevealTransitionEndProperty("visibleStyle");a[c]=this.onRevealTransitionEnd,this.transition({from:d.hiddenStyle,to:d.visibleStyle,isCleaning:!0,onTransitionEnd:a})},I.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},I.prototype.getHideRevealTransitionEndProperty=function(d){var a=this.layout.options[d];if(a.opacity){return"opacity"}for(var c in a){return c}},I.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var d=this.layout.options,a={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");a[c]=this.onHideTransitionEnd,this.transition({from:d.visibleStyle,to:d.hiddenStyle,isCleaning:!0,onTransitionEnd:a})},I.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},I.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},I}),function(b,a){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,e,d,f,g){return a(b,c,e,d,f,g)}):"object"==typeof exports?module.exports=a(b,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):b.Outlayer=a(b,b.eventie,b.EventEmitter,b.getSize,b.fizzyUIUtils,b.Outlayer.Item)}(window,function(w,c,j,l,k,q){function v(n,a){var f=k.getQueryElement(n);if(!f){return b&&b.error("Bad element for "+this.constructor.namespace+": "+(f||n)),void 0}this.element=f,x&&(this.$element=x(this.element)),this.options=k.extend({},this.constructor.defaults),this.option(a);var h=++g;this.element.outlayerGUID=h,d[h]=this,this._create(),this.options.isInitLayout&&this.layout()}var b=w.console,x=w.jQuery,m=function(){},g=0,d={};return v.namespace="outlayer",v.Item=q,v.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},k.extend(v.prototype,j.prototype),v.prototype.option=function(a){k.extend(this.options,a)},v.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),k.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},v.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},v.prototype._itemize=function(B){for(var h=this._filterFindItemElements(B),p=this.constructor.Item,y=[],u=0,z=h.length;z>u;u++){var A=h[u],f=new p(A,this);y.push(f)}return y},v.prototype._filterFindItemElements=function(a){return k.filterFindElements(a,this.options.itemSelector)},v.prototype.getItemElements=function(){for(var h=[],a=0,f=this.items.length;f>a;a++){h.push(this.items[a].element)}return h},v.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},v.prototype._init=v.prototype.layout,v.prototype._resetLayout=function(){this.getSize()},v.prototype.getSize=function(){this.size=l(this.element)},v.prototype._getMeasurement=function(n,a){var f,h=this.options[n];h?("string"==typeof h?f=this.element.querySelector(h):k.isElement(h)&&(f=h),this[n]=f?l(f)[a]:h):this[n]=0},v.prototype.layoutItems=function(f,a){f=this._getItemsForLayout(f),this._layoutItems(f,a),this._postLayout()},v.prototype._getItemsForLayout=function(r){for(var a=[],f=0,p=r.length;p>f;f++){var h=r[f];h.isIgnored||a.push(h)}return a},v.prototype._layoutItems=function(z,a){if(this._emitCompleteOnItems("layout",z),z&&z.length){for(var f=[],p=0,h=z.length;h>p;p++){var u=z[p],y=this._getItemLayoutPosition(u);y.item=u,y.isInstant=a||u.isLayoutInstant,f.push(y)}this._processLayoutQueue(f)}},v.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},v.prototype._processLayoutQueue=function(n){for(var a=0,f=n.length;f>a;a++){var h=n[a];this._positionItem(h.item,h.x,h.y,h.isInstant)}},v.prototype._positionItem=function(n,a,f,h){h?n.goTo(a,f):n.moveTo(a,f)},v.prototype._postLayout=function(){this.resizeContainer()},v.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},v.prototype._getContainerSize=m,v.prototype._setContainerMeasure=function(h,a){if(void 0!==h){var f=this.size;f.isBorderBox&&(h+=a?f.paddingLeft+f.paddingRight+f.borderLeftWidth+f.borderRightWidth:f.paddingBottom+f.paddingTop+f.borderTopWidth+f.borderBottomWidth),h=Math.max(h,0),this.element.style[a?"width":"height"]=h+"px"}},v.prototype._emitCompleteOnItems=function(E,h){function y(){z.emitEvent(E+"Complete",[h])}function A(){D++,D===C&&y()}var z=this,C=h.length;if(!h||!C){return y(),void 0}for(var D=0,f=0,F=h.length;F>f;f++){var B=h[f];B.once(E,A)}},v.prototype.ignore=function(f){var a=this.getItem(f);a&&(a.isIgnored=!0)},v.prototype.unignore=function(f){var a=this.getItem(f);a&&delete a.isIgnored},v.prototype.stamp=function(n){if(n=this._find(n)){this.stamps=this.stamps.concat(n);for(var a=0,f=n.length;f>a;a++){var h=n[a];this.ignore(h)}}},v.prototype.unstamp=function(n){if(n=this._find(n)){for(var a=0,f=n.length;f>a;a++){var h=n[a];k.removeFrom(this.stamps,h),this.unignore(h)}}},v.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=k.makeArray(a)):void 0},v.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var h=0,a=this.stamps.length;a>h;h++){var f=this.stamps[h];this._manageStamp(f)}}},v.prototype._getBoundingRect=function(){var f=this.element.getBoundingClientRect(),a=this.size;this._boundingRect={left:f.left+a.paddingLeft+a.borderLeftWidth,top:f.top+a.paddingTop+a.borderTopWidth,right:f.right-(a.paddingRight+a.borderRightWidth),bottom:f.bottom-(a.paddingBottom+a.borderBottomWidth)}},v.prototype._manageStamp=m,v.prototype._getElementOffset=function(p){var a=p.getBoundingClientRect(),f=this._boundingRect,h=l(p),o={left:a.left-f.left-h.marginLeft,top:a.top-f.top-h.marginTop,right:f.right-a.right-h.marginRight,bottom:f.bottom-a.bottom-h.marginBottom};return o},v.prototype.handleEvent=function(f){var a="on"+f.type;this[a]&&this[a](f)},v.prototype.bindResize=function(){this.isResizeBound||(c.bind(w,"resize",this),this.isResizeBound=!0)},v.prototype.unbindResize=function(){this.isResizeBound&&c.unbind(w,"resize",this),this.isResizeBound=!1},v.prototype.onresize=function(){function f(){a.resize(),delete a.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;this.resizeTimeout=setTimeout(f,100)},v.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},v.prototype.needsResizeLayout=function(){var f=l(this.element),a=this.size&&f;return a&&f.innerWidth!==this.size.innerWidth},v.prototype.addItems=function(f){var a=this._itemize(f);return a.length&&(this.items=this.items.concat(a)),a},v.prototype.appended=function(f){var a=this.addItems(f);a.length&&(this.layoutItems(a,!0),this.reveal(a))},v.prototype.prepended=function(h){var a=this._itemize(h);if(a.length){var f=this.items.slice(0);this.items=a.concat(f),this._resetLayout(),this._manageStamps(),this.layoutItems(a,!0),this.reveal(a),this.layoutItems(f)}},v.prototype.reveal=function(n){this._emitCompleteOnItems("reveal",n);for(var a=n&&n.length,f=0;a&&a>f;f++){var h=n[f];h.reveal()}},v.prototype.hide=function(n){this._emitCompleteOnItems("hide",n);for(var a=n&&n.length,f=0;a&&a>f;f++){var h=n[f];h.hide()}},v.prototype.revealItemElements=function(f){var a=this.getItems(f);this.reveal(a)},v.prototype.hideItemElements=function(f){var a=this.getItems(f);this.hide(a)},v.prototype.getItem=function(n){for(var a=0,f=this.items.length;f>a;a++){var h=this.items[a];if(h.element===n){return h}}},v.prototype.getItems=function(u){u=k.makeArray(u);for(var a=[],f=0,h=u.length;h>f;f++){var n=u[f],p=this.getItem(n);p&&a.push(p)}return a},v.prototype.remove=function(p){var a=this.getItems(p);if(this._emitCompleteOnItems("remove",a),a&&a.length){for(var f=0,h=a.length;h>f;f++){var n=a[f];n.remove(),k.removeFrom(this.items,n)}}},v.prototype.destroy=function(){var r=this.element.style;r.height="",r.position="",r.width="";for(var a=0,f=this.items.length;f>a;a++){var p=this.items[a];p.destroy()}this.unbindResize();var h=this.element.outlayerGUID;delete d[h],delete this.element.outlayerGUID,x&&x.removeData(this.element,this.constructor.namespace)},v.data=function(f){f=k.getQueryElement(f);var a=f&&f.outlayerGUID;return a&&d[a]},v.create=function(h,a){function f(){v.apply(this,arguments)}return Object.create?f.prototype=Object.create(v.prototype):k.extend(f.prototype,v.prototype),f.prototype.constructor=f,f.defaults=k.extend({},v.defaults),k.extend(f.defaults,a),f.prototype.settings={},f.namespace=h,f.data=v.data,f.Item=function(){q.apply(this,arguments)},f.Item.prototype=new q,k.htmlInit(f,h),x&&x.bridget&&x.bridget(h,f),f},v.Item=q,v}),function(b,a){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],a):"object"==typeof exports?module.exports=a(require("outlayer")):(b.Isotope=b.Isotope||{},b.Isotope.Item=a(b.Outlayer))}(window,function(c){function a(){c.Item.apply(this,arguments)}a.prototype=new c.Item,a.prototype._create=function(){this.id=this.layout.itemGUID++,c.Item.prototype._create.call(this),this.sortData={}},a.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var h=this.layout.options.getSortData,d=this.layout._sorters;for(var f in h){var g=d[f];this.sortData[f]=g(this.element,this)}}};var b=a.prototype.destroy;return a.prototype.destroy=function(){b.apply(this,arguments),this.css({display:""})},a}),function(b,a){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],a):"object"==typeof exports?module.exports=a(require("get-size"),require("outlayer")):(b.Isotope=b.Isotope||{},b.Isotope.LayoutMode=a(b.getSize,b.Outlayer))}(window,function(c,a){function b(d){this.isotope=d,d&&(this.options=d.options[this.namespace],this.element=d.element,this.items=d.filteredItems,this.size=d.size)}return function(){function h(i){return function(){return a.prototype[i].apply(this.isotope,arguments)}}for(var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],d=0,f=e.length;f>d;d++){var g=e[d];b.prototype[g]=h(g)}}(),b.prototype.needsVerticalResizeLayout=function(){var d=c(this.isotope.element),f=this.isotope.size&&d;return f&&d.innerHeight!=this.isotope.size.innerHeight},b.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},b.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},b.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},b.prototype.getSegmentSize=function(j,d){var f=j+d,h="outer"+d;if(this._getMeasurement(f,h),!this[f]){var g=this.getFirstItemSize();this[f]=g&&g[h]||this.isotope.size["inner"+d]}},b.prototype.getFirstItemSize=function(){var d=this.isotope.filteredItems[0];return d&&d.element&&c(d.element)},b.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},b.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},b.modes={},b.create=function(g,d){function f(){b.apply(this,arguments)}return f.prototype=new b,d&&(f.options=d),f.prototype.namespace=g,b.modes[g]=f,f},b}),function(b,a){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],a):"object"==typeof exports?module.exports=a(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):b.Masonry=a(b.Outlayer,b.getSize,b.fizzyUIUtils)}(window,function(d,a,b){var c=d.create("masonry");return c.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;){this.colYs.push(0)}this.maxY=0},c.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var l=this.items[0],f=l&&l.element;this.columnWidth=f&&a(f).outerWidth||this.containerWidth}var h=this.columnWidth+=this.gutter,g=this.containerWidth+this.gutter,j=g/h,k=h-g%h,e=k&&1>k?"round":"floor";j=Math[e](j),this.cols=Math.max(j,1)},c.prototype.getContainerWidth=function(){var f=this.options.isFitWidth?this.element.parentNode:this.element,e=a(f);this.containerWidth=e&&e.innerWidth},c.prototype._getItemLayoutPosition=function(x){x.getSize();var i=x.size.outerWidth%this.columnWidth,m=i&&1>i?"round":"ceil",l=Math[m](x.size.outerWidth/this.columnWidth);l=Math.min(l,this.cols);for(var v=this._getColGroup(l),w=Math.min.apply(Math,v),g=b.indexOf(v,w),y={x:this.columnWidth*g,y:w},q=w+x.size.outerHeight,k=this.cols+1-v.length,j=0;k>j;j++){this.colYs[g+j]=q}return y},c.prototype._getColGroup=function(k){if(2>k){return this.colYs}for(var f=[],g=this.cols+1-k,j=0;g>j;j++){var h=this.colYs.slice(j,j+k);f[j]=Math.max.apply(Math,h)}return f},c.prototype._manageStamp=function(m){var f=a(m),h=this._getElementOffset(m),g=this.options.isOriginLeft?h.left:h.right,k=g+f.outerWidth,l=Math.floor(g/this.columnWidth);l=Math.max(0,l);var e=Math.floor(k/this.columnWidth);e-=k%this.columnWidth?0:1,e=Math.min(this.cols-1,e);for(var q=(this.options.isOriginTop?h.top:h.bottom)+f.outerHeight,j=l;e>=j;j++){this.colYs[j]=Math.max(q,this.colYs[j])}},c.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},c.prototype._getContainerFitWidth=function(){for(var g=0,f=this.cols;--f&&0===this.colYs[f];){g++}return(this.cols-g)*this.columnWidth-this.gutter},c.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},c}),function(b,a){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],a):"object"==typeof exports?module.exports=a(require("../layout-mode"),require("masonry-layout")):a(b.Isotope.LayoutMode,b.Masonry)}(window,function(k,c){function d(n,a){for(var m in a){n[m]=a[m]}return n}var g=k.create("masonry"),f=g.prototype._getElementOffset,h=g.prototype.layout,j=g.prototype._getMeasurement;d(g.prototype,c.prototype),g.prototype._getElementOffset=f,g.prototype.layout=h,g.prototype._getMeasurement=j;var b=g.prototype.measureColumns;g.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,b.call(this)};var l=g.prototype._manageStamp;return g.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},g}),function(b,a){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],a):"object"==typeof exports?module.exports=a(require("../layout-mode")):a(b.Isotope.LayoutMode)}(window,function(b){var a=b.create("fitRows");return a.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},a.prototype._getItemLayoutPosition=function(g){g.getSize();var c=g.size.outerWidth+this.gutter,d=this.isotope.size.innerWidth+this.gutter;0!==this.x&&c+this.x>d&&(this.x=0,this.y=this.maxY);var f={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+g.size.outerHeight),this.x+=c,f},a.prototype._getContainerSize=function(){return{height:this.maxY}},a}),function(b,a){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],a):"object"==typeof exports?module.exports=a(require("../layout-mode")):a(b.Isotope.LayoutMode)}(window,function(b){var a=b.create("vertical",{horizontalAlignment:0});return a.prototype._resetLayout=function(){this.y=0},a.prototype._getItemLayoutPosition=function(f){f.getSize();var c=(this.isotope.size.innerWidth-f.size.outerWidth)*this.options.horizontalAlignment,d=this.y;return this.y+=f.size.outerHeight,{x:c,y:d}},a.prototype._getContainerSize=function(){return{height:this.y}},a}),function(b,a){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(d,f,e,g,h,c){return a(b,d,f,e,g,h,c)}):"object"==typeof exports?module.exports=a(b,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):b.Isotope=a(b,b.Outlayer,b.getSize,b.matchesSelector,b.fizzyUIUtils,b.Isotope.Item,b.Isotope.LayoutMode)}(window,function(C,k,v,y,x,A,B){function b(c,a){return function(f,t){for(var l=0,F=c.length;F>l;l++){var G=c[l],d=f.sortData[G],H=t.sortData[G];if(d>H||H>d){var E=void 0!==a[G]?a[G]:a,e=E?1:-1;return(d>H?1:-1)*e}}return 0}}var D=C.jQuery,z=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},q=document.documentElement,m=q.textContent?function(a){return a.textContent}:function(a){return a.innerText},j=k.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});j.Item=A,j.LayoutMode=B,j.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),k.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var a in B.modes){this._initLayoutMode(a)}},j.prototype.reloadItems=function(){this.itemGUID=0,k.prototype.reloadItems.call(this)},j.prototype._itemize=function(){for(var e=k.prototype._itemize.apply(this,arguments),a=0,d=e.length;d>a;a++){var c=e[a];c.id=this.itemGUID++}return this._updateItemsSortData(e),e},j.prototype._initLayoutMode=function(d){var a=B.modes[d],c=this.options[d]||{};this.options[d]=a.options?x.extend(a.options,c):c,this.modes[d]=new a(this)},j.prototype.layout=function(){return !this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},j.prototype._layout=function(){var a=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},j.prototype.arrange=function(f){function a(){d.reveal(c.needReveal),d.hide(c.needHide)}this.option(f),this._getIsInstant();var c=this._filter(this.items);this.filteredItems=c.matches;var d=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(a):a(),this._sort(),this._layout()},j.prototype._init=j.prototype.arrange,j.prototype._getIsInstant=function(){var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=a,a},j.prototype._bindArrangeComplete=function(){function h(){a&&c&&f&&d.emitEvent("arrangeComplete",[d.filteredItems])}var a,c,f,d=this;this.once("layoutComplete",function(){a=!0,h()}),this.once("hideComplete",function(){c=!0,h()}),this.once("revealComplete",function(){f=!0,h()})},j.prototype._filter=function(H){var d=this.options.filter;d=d||"*";for(var f=[],l=[],h=[],F=this._getFilterTest(d),G=0,c=H.length;c>G;G++){var I=H[G];if(!I.isIgnored){var E=F(I);E&&f.push(I),E&&I.isHidden?l.push(I):E||I.isHidden||h.push(I)}}return{matches:f,needReveal:l,needHide:h}},j.prototype._getFilterTest=function(a){return D&&this.options.isJQueryFiltering?function(c){return D(c.element).is(a)}:"function"==typeof a?function(c){return a(c.element)}:function(c){return y(c.element,a)}},j.prototype.updateSortData=function(c){var a;c?(c=x.makeArray(c),a=this.getItems(c)):a=this.items,this._getSorters(),this._updateItemsSortData(a)},j.prototype._getSorters=function(){var d=this.options.getSortData;for(var a in d){var c=d[a];this._sorters[a]=w(c)}},j.prototype._updateItemsSortData=function(f){for(var a=f&&f.length,c=0;a&&a>c;c++){var d=f[c];d.updateSortData()}};var w=function(){function c(u){if("string"!=typeof u){return u}var e=z(u).split(" "),h=e[0],f=h.match(/^\[(.+)\]$/),l=f&&f[1],p=a(l,h),d=j.sortDataParsers[e[1]];return u=d?function(i){return i&&d(p(i))}:function(i){return i&&p(i)}}function a(h,d){var f;return f=h?function(i){return i.getAttribute(h)}:function(l){var e=l.querySelector(d);return e&&m(e)}}return c}();j.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},j.prototype._sort=function(){var d=this.options.sortBy;if(d){var a=[].concat.apply(d,this.sortHistory),c=b(a,this.options.sortAscending);this.filteredItems.sort(c),d!=this.sortHistory[0]&&this.sortHistory.unshift(d)}},j.prototype._mode=function(){var c=this.options.layoutMode,a=this.modes[c];if(!a){throw Error("No layout mode: "+c)}return a.options=this.options[c],a},j.prototype._resetLayout=function(){k.prototype._resetLayout.call(this),this._mode()._resetLayout()},j.prototype._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},j.prototype._manageStamp=function(a){this._mode()._manageStamp(a)},j.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},j.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},j.prototype.appended=function(d){var a=this.addItems(d);if(a.length){var c=this._filterRevealAdded(a);this.filteredItems=this.filteredItems.concat(c)}},j.prototype.prepended=function(d){var a=this._itemize(d);if(a.length){this._resetLayout(),this._manageStamps();var c=this._filterRevealAdded(a);this.layoutItems(this.filteredItems),this.filteredItems=c.concat(this.filteredItems),this.items=a.concat(this.items)}},j.prototype._filterRevealAdded=function(c){var a=this._filter(c);return this.hide(a.needHide),this.reveal(a.matches),this.layoutItems(a.matches,!0),a.matches},j.prototype.insert=function(l){var a=this.addItems(l);if(a.length){var c,f,d=a.length;for(c=0;d>c;c++){f=a[c],this.element.appendChild(f.element)}var h=this._filter(a).matches;for(c=0;d>c;c++){a[c].isLayoutInstant=!0}for(this.arrange(),c=0;d>c;c++){delete a[c].isLayoutInstant}this.reveal(h)}};var g=j.prototype.remove;return j.prototype.remove=function(h){h=x.makeArray(h);var a=this.getItems(h);g.call(this,h);var c=a&&a.length;if(c){for(var d=0;c>d;d++){var f=a[d];x.removeFrom(this.filteredItems,f)}}},j.prototype.shuffle=function(){for(var d=0,a=this.items.length;a>d;d++){var c=this.items[d];c.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},j.prototype._noTransition=function(d){var a=this.options.transitionDuration;this.options.transitionDuration=0;var c=d.call(this);return this.options.transitionDuration=a,c},j.prototype.getFilteredItemElements=function(){for(var d=[],a=0,c=this.filteredItems.length;c>a;a++){d.push(this.filteredItems[a].element)}return d},j});