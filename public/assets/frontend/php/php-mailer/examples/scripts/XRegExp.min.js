var XRegExp;if(XRegExp){throw Error("can't load XRegExp twice in the same frame")}(function(o){XRegExp=function(v,s){var u=[],r=XRegExp.OUTSIDE_CLASS,w=0,q,y,t,p,x;if(XRegExp.isRegExp(v)){if(s!==o){throw TypeError("can't supply flags when constructing one RegExp from another")}return a(v)}if(h){throw Error("can't call the XRegExp constructor within token definition functions")}s=s||"";q={hasNamedCapture:false,captureNames:[],hasFlag:function(z){return s.indexOf(z)>-1},setFlag:function(z){s+=z}};while(w<v.length){y=m(v,w,r,q);if(y){u.push(y.output);w+=(y.match[0].length||1)}else{if(t=i.exec.call(j[r],v.slice(w))){u.push(t[0]);w+=t[0].length}else{p=v.charAt(w);if(p==="["){r=XRegExp.INSIDE_CLASS}else{if(p==="]"){r=XRegExp.OUTSIDE_CLASS}}u.push(p);w++}}}x=RegExp(u.join(""),i.replace.call(s,d,""));x._xregexp={source:v,captureNames:q.hasNamedCapture?q.captureNames:null};return x};XRegExp.version="1.5.1";XRegExp.INSIDE_CLASS=1;XRegExp.OUTSIDE_CLASS=2;var l=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,d=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,k=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,h=false,n=[],i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},b=i.exec.call(/()??/,"")[1]===o,c=function(){var p=/^/g;i.test.call(p,"");return !p.lastIndex}(),f=RegExp.prototype.sticky!==o,j={};j[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;j[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;XRegExp.addToken=function(q,p,r,s){n.push({pattern:a(q,"g"+(f?"y":"")),handler:p,scope:r||XRegExp.OUTSIDE_CLASS,trigger:s||null})};XRegExp.cache=function(r,p){var q=r+"/"+(p||"");return XRegExp.cache[q]||(XRegExp.cache[q]=XRegExp(r,p))};XRegExp.copyAsGlobal=function(p){return a(p,"g")};XRegExp.escape=function(p){return p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};XRegExp.execAt=function(u,t,r,p){var s=a(t,"g"+((p&&f)?"y":"")),q;s.lastIndex=r=r||0;q=s.exec(u);if(p&&q&&q.index!==r){q=null}if(t.global){t.lastIndex=q?s.lastIndex:0}return q};XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}};XRegExp.isRegExp=function(p){return Object.prototype.toString.call(p)==="[object RegExp]"};XRegExp.iterate=function(v,u,p,q){var t=a(u,"g"),r=-1,s;while(s=t.exec(v)){if(u.global){u.lastIndex=t.lastIndex}p.call(q,s,++r,v,u);if(t.lastIndex===s.index){t.lastIndex++}}if(u.global){u.lastIndex=0}};XRegExp.matchChain=function(r,p){return function q(x,u){var t=p[u].regex?p[u]:{regex:p[u]},w=a(t.regex,"g"),v=[],s;for(s=0;s<x.length;s++){XRegExp.iterate(x[s],w,function(y){v.push(t.backref?(y[t.backref]||""):y[0])})}return((u===p.length-1)||!v.length)?v:q(v,u+1)}([r],0)};RegExp.prototype.apply=function(q,p){return this.exec(p[0])};RegExp.prototype.call=function(p,q){return this.exec(q)};RegExp.prototype.exec=function(u){var q,r,t,s;if(!this.global){s=this.lastIndex}q=i.exec.apply(this,arguments);if(q){if(!b&&q.length>1&&g(q,"")>-1){t=RegExp(this.source,i.replace.call(e(this),"g",""));i.replace.call((u+"").slice(q.index),t,function(){for(var v=1;v<arguments.length-2;v++){if(arguments[v]===o){q[v]=o}}})}if(this._xregexp&&this._xregexp.captureNames){for(var p=1;p<q.length;p++){r=this._xregexp.captureNames[p-1];if(r){q[r]=q[p]}}}if(!c&&this.global&&!q[0].length&&(this.lastIndex>q.index)){this.lastIndex--}}if(!this.global){this.lastIndex=s}return q};RegExp.prototype.test=function(r){var p,q;if(!this.global){q=this.lastIndex}p=i.exec.call(this,r);if(p&&!c&&this.global&&!p[0].length&&(this.lastIndex>p.index)){this.lastIndex--}if(!this.global){this.lastIndex=q}return !!p};String.prototype.match=function(p){if(!XRegExp.isRegExp(p)){p=RegExp(p)}if(p.global){var q=i.match.apply(this,arguments);p.lastIndex=0;return q}return p.exec(this)};String.prototype.replace=function(u,s){var q=XRegExp.isRegExp(u),p,t,v,r;if(q){if(u._xregexp){p=u._xregexp.captureNames}if(!u.global){r=u.lastIndex}}else{u=u+""}if(Object.prototype.toString.call(s)==="[object Function]"){t=i.replace.call(this+"",u,function(){if(p){arguments[0]=new String(arguments[0]);for(var w=0;w<p.length;w++){if(p[w]){arguments[0][p[w]]=arguments[w+1]}}}if(q&&u.global){u.lastIndex=arguments[arguments.length-2]+arguments[0].length}return s.apply(null,arguments)})}else{v=this+"";t=i.replace.call(v,u,function(){var w=arguments;return i.replace.call(s+"",l,function(x,y,z){if(y){switch(y){case"$":return"$";case"&":return w[0];case"`":return w[w.length-1].slice(0,w[w.length-2]);case"'":return w[w.length-1].slice(w[w.length-2]+w[0].length);default:var A="";y=+y;if(!y){return x}while(y>w.length-3){A=String.prototype.slice.call(y,-1)+A;y=Math.floor(y/10)}return(y?w[y]||"":"$")+A}}else{var B=+z;if(B<=w.length-3){return w[B]}B=p?g(p,z):-1;return B>-1?w[B+1]:x}})})}if(q){if(u.global){u.lastIndex=0}else{u.lastIndex=r}}return t};String.prototype.split=function(v,r){if(!XRegExp.isRegExp(v)){return i.split.apply(this,arguments)}var w=this+"",u=[],p=0,t,q;if(r===o||+r<0){r=Infinity}else{r=Math.floor(+r);if(!r){return[]}}v=XRegExp.copyAsGlobal(v);while(t=v.exec(w)){if(v.lastIndex>p){u.push(w.slice(p,t.index));if(t.length>1&&t.index<w.length){Array.prototype.push.apply(u,t.slice(1))}q=t[0].length;p=v.lastIndex;if(u.length>=r){break}}if(v.lastIndex===t.index){v.lastIndex++}}if(p===w.length){if(!i.test.call(v,"")||q){u.push("")}}else{u.push(w.slice(p))}return u.length>r?u.slice(0,r):u};function a(q,p){if(!XRegExp.isRegExp(q)){throw TypeError("type RegExp expected")}var r=q._xregexp;q=XRegExp(q.source,e(q)+(p||""));if(r){q._xregexp={source:r.source,captureNames:r.captureNames?r.captureNames.slice(0):null}}return q}function e(p){return(p.global?"g":"")+(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.extended?"x":"")+(p.sticky?"y":"")}function m(v,s,x,p){var r=n.length,w,u,y;h=true;try{while(r--){y=n[r];if((x&y.scope)&&(!y.trigger||y.trigger.call(p))){y.pattern.lastIndex=s;u=y.pattern.exec(v);if(u&&u.index===s){w={output:y.handler.call(p,u,x),match:u};break}}}}catch(q){throw q}finally{h=false}return w}function g(p,s,q){if(Array.prototype.indexOf){return p.indexOf(s,q)}for(var r=q||0;r<p.length;r++){if(p[r]===s){return r}}return -1}XRegExp.addToken(/\(\?#[^)]*\)/,function(p){return i.test.call(k,p.input.slice(p.index+p[0].length))?"":"(?:)"});XRegExp.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});XRegExp.addToken(/\(\?<([$\w]+)>/,function(p){this.captureNames.push(p[1]);this.hasNamedCapture=true;return"("});XRegExp.addToken(/\\k<([\w$]+)>/,function(q){var p=g(this.captureNames,q[1]);return p>-1?"\\"+(p+1)+(isNaN(q.input.charAt(q.index+q[0].length))?"":"(?:)"):q[0]});XRegExp.addToken(/\[\^?]/,function(p){return p[0]==="[]"?"\\b\\B":"[\\s\\S]"});XRegExp.addToken(/^\(\?([imsx]+)\)/,function(p){this.setFlag(p[1]);return""});XRegExp.addToken(/(?:\s+|#.*)+/,function(p){return i.test.call(k,p.input.slice(p.index+p[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")});XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();