!function(t){t(".mg-option input[type=checkbox]").on("change",function(e){var a=t(this).parents(".thumbnail");t(this).is(":checked")?a.addClass("thumbnail-selected"):a.removeClass("thumbnail-selected")}),t(".mg-option input[type=checkbox]:checked").trigger("change"),t("#mgSelectAll").on("click",function(e){e.preventDefault();var a=t(this),i=a.find("> span");$checks=t(".mg-option input[type=checkbox]"),a.attr("data-all-selected")?(a.removeAttr("data-all-selected"),$checks.prop("checked",!1).trigger("change"),i.html(i.data("all-text"))):(a.attr("data-all-selected","true"),$checks.prop("checked",!0).trigger("change"),i.html(i.data("none-text")))}),t(".thumb-preview a[href]").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",image:{verticalFit:!0}}),t(".thumb-preview .mg-zoom").on("click.lightbox",function(e){e.preventDefault(),t(this).closest(".thumb-preview").find("a.thumb-image").triggerHandler("click")}),t(".thumbnail .mg-toggle").parent().on("show.bs.dropdown",function(e){t(this).closest(".mg-thumb-options").css("overflow","visible")}).on("hidden.bs.dropdown",function(e){t(this).closest(".mg-thumb-options").css("overflow","")}),t(".thumbnail").on("mouseenter",function(){var e=t(this).find(".mg-toggle");e.parent().hasClass("open")&&e.dropdown("toggle")}),t("[data-sort-source]").each(function(){var e=t(this),a=t("[data-sort-destination][data-sort-id="+t(this).attr("data-sort-id")+"]");a.get(0)&&t(window).on("load",function(){a.isotope({itemSelector:".isotope-item",layoutMode:"fitRows"}),t(window).on("sidebar-left-toggle inner-menu-toggle",function(){a.isotope()}),e.find("a[data-option-value]").click(function(i){i.preventDefault();var o=t(this),n=o.attr("data-option-value");return e.find(".active").removeClass("active"),o.closest("li").addClass("active"),a.isotope({filter:n}),(""!=window.location.hash||"*"!=n.replace(".",""))&&(window.location.hash=n.replace(".","")),!1}),t(window).bind("hashchange",function(t){var i="."+location.hash.replace("#",""),o="."==i||".*"==i?"*":i;e.find(".active").removeClass("active"),e.find("[data-option-value='"+o+"']").closest("li").addClass("active"),a.isotope({filter:o})});var i="."+(location.hash.replace("#","")||"*"),o=e.find("a[data-option-value='"+i+"']");o.get(0)?e.find("[data-option-value='"+i+"']").click():e.find(".active a").click()})})}(jQuery);