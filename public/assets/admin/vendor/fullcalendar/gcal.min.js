/*
 * FullCalendar v3.0.0 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2016 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}})(function(a){var b="https://www.googleapis.com/calendar/v3/calendars";var d=a.fullCalendar;var c=d.applyAll;d.sourceNormalizers.push(function(i){var g=i.googleCalendarId;var j=i.url;var h;if(!g&&j){if(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(j)){g=j}else{if((h=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(j))||(h=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(j))){g=decodeURIComponent(h[1])}}if(g){i.googleCalendarId=g}}if(g){if(i.editable==null){i.editable=false}i.url=g}});d.sourceFetchers.push(function(h,i,g,j){if(h.googleCalendarId){return f(h,i,g,j,this)}});function f(l,m,j,o,h){var q=b+"/"+encodeURIComponent(l.googleCalendarId)+"/events?callback=?";var g=l.googleCalendarApiKey||h.options.googleCalendarApiKey;var n=l.success;var i;var p;function k(t,r){var s=r||[{message:t}];(l.googleCalendarError||a.noop).apply(h,s);(h.options.googleCalendarError||a.noop).apply(h,s);d.warn.apply(null,[t].concat(r||[]))}if(!g){k("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/");return{}}if(!m.hasZone()){m=m.clone().utc().add(-1,"day")}if(!j.hasZone()){j=j.clone().utc().add(1,"day")}if(o&&o!="local"){p=o.replace(" ","_")}i=a.extend({},l.data||{},{key:g,timeMin:m.format(),timeMax:j.format(),timeZone:p,singleEvents:true,maxResults:9999});return a.extend({},l,{googleCalendarId:null,url:q,data:i,startParam:false,endParam:false,timezoneParam:false,success:function(r){var s=[];var t;var u;if(r.error){k("Google Calendar API: "+r.error.message,r.error.errors)}else{if(r.items){a.each(r.items,function(w,v){var x=v.htmlLink||null;if(p&&x!==null){x=e(x,"ctz="+p)}s.push({id:v.id,title:v.summary,start:v.start.dateTime||v.start.date,end:v.end.dateTime||v.end.date,url:x,location:v.location,description:v.description})});t=[s].concat(Array.prototype.slice.call(arguments,1));u=c(n,this,t);if(a.isArray(u)){return u}}}return s}})}function e(h,g){return h.replace(/(\?.*?)?(#|$)/,function(k,j,i){return(j?j+"&":"?")+g+i})}});