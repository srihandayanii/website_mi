/* nanoScrollerJS - v0.8.7 - (c) 2015 James Florentino; Licensed MIT */
!function(b){return"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a,window,document)}):"object"==typeof exports?module.exports=b(require("jquery"),window,document):b(jQuery,window,document)}(function(I,K,M){var O,Q,S,U,W,Y,Z,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,J,L,N,P,R,T,V,X;ap={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},ak="scrollbar",aj="scroll",ab="mousedown",ac="mouseenter",ad="mousemove",af="mousewheel",ae="mouseup",ai="resize",W="drag",Y="enter",am="up",ah="panedown",S="DOMMouseScroll",U="down",an="wheel",Z="keydown",aa="keyup",al="touchmove",O="Microsoft Internet Explorer"===K.navigator.appName&&/msie 7./i.test(K.navigator.appVersion)&&K.ActiveXObject,Q=null,P=K.requestAnimationFrame,ao=K.cancelAnimationFrame,T=M.createElement("div").style,X=function(){var g,h,i,j,k,l;for(j=["t","webkitT","MozT","msT","OT"],g=k=0,l=j.length;l>k;g=++k){if(i=j[g],h=j[g]+"ransform",h in T){return j[g].substr(0,j[g].length-1)}}return !1}(),V=function(b){return X===!1?!1:""===X?b:X+b.charAt(0).toUpperCase()+b.substr(1)},R=V("transform"),L=R!==!1,J=function(){var c,e,f;return c=M.createElement("div"),e=c.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=aj,e.top="-9999px",M.body.appendChild(c),f=c.offsetWidth-c.clientWidth,M.body.removeChild(c),f},N=function(){var b,e,f;return e=K.navigator.userAgent,(b=/(?=.+Mac OS X)(?=.+Firefox)/.test(e))?(f=/Firefox\/\d{2}\./.exec(e),f&&(f=f[0].replace(/\D+/g,"")),b&&+f>23):!1},ag=function(){function a(b,c){this.el=b,this.options=c,Q||(Q=J()),this.$el=I(this.el),this.doc=I(this.options.documentContext||M),this.win=I(this.options.windowContext||K),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return a.prototype.preventScrolling=function(c,d){if(this.isActive){if(c.type===S){(d===U&&c.originalEvent.detail>0||d===am&&c.originalEvent.detail<0)&&c.preventDefault()}else{if(c.type===af){if(!c.originalEvent||!c.originalEvent.wheelDelta){return}(d===U&&c.originalEvent.wheelDelta<0||d===am&&c.originalEvent.wheelDelta>0)&&c.preventDefault()}}}},a.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},a.prototype.updateScrollValues=function(){var c,d;c=this.content,this.maxScrollTop=c.scrollHeight-c.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=c.scrollTop,d=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==d&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:d}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},a.prototype.setOnScrollStyles=function(){var b;L?(b={},b[R]="translate(0, "+this.sliderTop+"px)"):b={top:this.sliderTop},P?(ao&&this.scrollRAF&&ao(this.scrollRAF),this.scrollRAF=P(function(c){return function(){return c.scrollRAF=null,c.slider.css(b)}}(this))):this.slider.css(b)},a.prototype.createEvents=function(){this.events={down:function(b){return function(c){return b.isBeingDragged=!0,b.offsetY=c.pageY-b.slider.offset().top,b.slider.is(c.target)||(b.offsetY=0),b.pane.addClass(b.options.activeClass),b.doc.bind(ad,b.events[W]).bind(ae,b.events[am]),b.body.bind(ac,b.events[Y]),!1}}(this),drag:function(b){return function(c){return b.sliderY=c.pageY-b.$el.offset().top-b.paneTop-(b.offsetY||0.5*b.sliderHeight),b.scroll(),b.contentScrollTop>=b.maxScrollTop&&b.prevScrollTop!==b.maxScrollTop?b.$el.trigger("scrollend"):0===b.contentScrollTop&&0!==b.prevScrollTop&&b.$el.trigger("scrolltop"),!1}}(this),up:function(b){return function(c){return b.isBeingDragged=!1,b.pane.removeClass(b.options.activeClass),b.doc.unbind(ad,b.events[W]).unbind(ae,b.events[am]),b.body.unbind(ac,b.events[Y]),!1}}(this),resize:function(b){return function(c){b.reset()}}(this),panedown:function(b){return function(c){return b.sliderY=(c.offsetY||c.originalEvent.layerY)-0.5*b.sliderHeight,b.scroll(),b.events.down(c),!1}}(this),scroll:function(b){return function(c){b.updateScrollValues(),b.isBeingDragged||(b.iOSNativeScrolling||(b.sliderY=b.sliderTop,b.setOnScrollStyles()),null!=c&&(b.contentScrollTop>=b.maxScrollTop?(b.options.preventPageScrolling&&b.preventScrolling(c,U),b.prevScrollTop!==b.maxScrollTop&&b.$el.trigger("scrollend")):0===b.contentScrollTop&&(b.options.preventPageScrolling&&b.preventScrolling(c,am),0!==b.prevScrollTop&&b.$el.trigger("scrolltop"))))}}(this),wheel:function(b){return function(d){var e;if(null!=d){return e=d.delta||d.wheelDelta||d.originalEvent&&d.originalEvent.wheelDelta||-d.detail||d.originalEvent&&-d.originalEvent.detail,e&&(b.sliderY+=-e/3),b.scroll(),!1}}}(this),enter:function(b){return function(d){var e;if(b.isBeingDragged){return 1!==(d.buttons||d.which)?(e=b.events)[am].apply(e,arguments):void 0}}}(this)}},a.prototype.addEvents=function(){var b;this.removeEvents(),b=this.events,this.options.disableResize||this.win.bind(ai,b[ai]),this.iOSNativeScrolling||(this.slider.bind(ab,b[U]),this.pane.bind(ab,b[ah]).bind(""+af+" "+S,b[an])),this.$content.bind(""+aj+" "+af+" "+S+" "+al,b[aj])},a.prototype.removeEvents=function(){var b;b=this.events,this.win.unbind(ai,b[ai]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+aj+" "+af+" "+S+" "+al,b[aj])},a.prototype.generate=function(){var b,e,j,k,l,m,n;return k=this.options,m=k.paneClass,n=k.sliderClass,b=k.contentClass,(l=this.$el.children("."+m)).length||l.children("."+n).length||this.$el.append('<div class="'+m+'"><div class="'+n+'" /></div>'),this.pane=this.$el.children("."+m),this.slider=this.pane.find("."+n),0===Q&&N()?(j=K.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),e={right:-14,paddingRight:+j+14}):Q&&(e={right:-Q},this.$el.addClass(k.enabledClass)),null!=e&&this.$content.css(e),this},a.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},a.prototype.reset=function(){var d,e,o,p,q,r,s,t,u,v,w,x;return this.iOSNativeScrolling?void (this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),d=this.content,p=d.style,q=p.overflowY,O&&this.$content.css({height:this.$content.height()}),e=d.scrollHeight+Q,v=parseInt(this.$el.css("max-height"),10),v>0&&(this.$el.height(""),this.$el.height(d.scrollHeight>v?v:d.scrollHeight)),s=this.pane.outerHeight(!1),u=parseInt(this.pane.css("top"),10),r=parseInt(this.pane.css("bottom"),10),t=s+u+r,x=Math.round(t/e*s),x<this.options.sliderMinHeight?x=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&x>this.options.sliderMaxHeight&&(x=this.options.sliderMaxHeight),q===aj&&p.overflowX!==aj&&(x+=Q),this.maxSliderTop=t-x,this.contentHeight=e,this.paneHeight=s,this.paneOuterHeight=t,this.sliderHeight=x,this.paneTop=u,this.slider.height(x),this.events.scroll(),this.pane.show(),this.isActive=!0,d.scrollHeight===d.clientHeight||this.pane.outerHeight(!0)>=d.scrollHeight&&q!==aj?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===d.scrollHeight&&q===aj?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),o=this.$content.css("position"),("static"===o||"relative"===o)&&(w=parseInt(this.$content.css("right"),10),w&&this.$content.css({right:"",marginRight:w})),this)},a.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},a.prototype.scrollBottom=function(b){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-b).trigger(af),this.stop().restore(),this):void 0},a.prototype.scrollTop=function(b){return this.isActive?(this.$content.scrollTop(+b).trigger(af),this.stop().restore(),this):void 0},a.prototype.scrollTo=function(b){return this.isActive?(this.scrollTop(this.$el.find(b).get(0).offsetTop),this):void 0},a.prototype.stop=function(){return ao&&this.scrollRAF&&(ao(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},a.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),O&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},a.prototype.flash=function(){return !this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(b){return function(){b.pane.removeClass(b.options.flashedClass)}}(this),this.options.flashDelay),this):void 0},a}(),I.fn.nanoScroller=function(a){return this.each(function(){var b,e;if((e=this.nanoscroller)||(b=I.extend({},ap,a),this.nanoscroller=e=new ag(this,b)),a&&"object"==typeof a){if(I.extend(e.options,a),null!=a.scrollBottom){return e.scrollBottom(a.scrollBottom)}if(null!=a.scrollTop){return e.scrollTop(a.scrollTop)}if(a.scrollTo){return e.scrollTo(a.scrollTo)}if("bottom"===a.scroll){return e.scrollBottom(0)}if("top"===a.scroll){return e.scrollTop(0)}if(a.scroll&&a.scroll instanceof I){return e.scrollTo(a.scroll)}if(a.stop){return e.stop()}if(a.destroy){return e.destroy()}if(a.flash){return e.flash()}}return e.reset()})},I.fn.nanoScroller.Constructor=ag});