(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.multiplexingMode=function(d){var c=Array.prototype.slice.call(arguments,1);function b(j,h,f,i){if(typeof h=="string"){var e=j.indexOf(h,f);return i&&e>-1?e+h.length:e}var g=h.exec(f?j.slice(f):j);return g?g.index+f+(i?g[0].length:0):-1}return{startState:function(){return{outer:a.startState(d),innerActive:null,inner:null}},copyState:function(e){return{outer:a.copyState(d,e.outer),innerActive:e.innerActive,inner:e.innerActive&&a.copyState(e.innerActive.mode,e.inner)}},token:function(o,n){if(!n.innerActive){var f=Infinity,k=o.string;for(var h=0;h<c.length;++h){var l=c[h];var g=b(k,l.open,o.pos);if(g==o.pos){if(!l.parseDelimiters){o.match(l.open)}n.innerActive=l;n.inner=a.startState(l.mode,d.indent?d.indent(n.outer,""):0);return l.delimStyle&&(l.delimStyle+" "+l.delimStyle+"-open")}else{if(g!=-1&&g<f){f=g}}}if(f!=Infinity){o.string=k.slice(0,f)}var m=d.token(o,n.outer);if(f!=Infinity){o.string=k}return m}else{var e=n.innerActive,k=o.string;if(!e.close&&o.sol()){n.innerActive=n.inner=null;return this.token(o,n)}var g=e.close?b(k,e.close,o.pos,e.parseDelimiters):-1;if(g==o.pos&&!e.parseDelimiters){o.match(e.close);n.innerActive=n.inner=null;return e.delimStyle&&(e.delimStyle+" "+e.delimStyle+"-close")}if(g>-1){o.string=k.slice(0,g)}var j=e.mode.token(o,n.inner);if(g>-1){o.string=k}if(g==o.pos&&e.parseDelimiters){n.innerActive=n.inner=null}if(e.innerStyle){if(j){j=j+" "+e.innerStyle}else{j=e.innerStyle}}return j}},indent:function(f,g){var e=f.innerActive?f.innerActive.mode:d;if(!e.indent){return a.Pass}return e.indent(f.innerActive?f.inner:f.outer,g)},blankLine:function(h){var f=h.innerActive?h.innerActive.mode:d;if(f.blankLine){f.blankLine(h.innerActive?h.inner:h.outer)}if(!h.innerActive){for(var e=0;e<c.length;++e){var g=c[e];if(g.open==="\n"){h.innerActive=g;h.inner=a.startState(g.mode,f.indent?f.indent(h.outer,""):0)}}}else{if(h.innerActive.close==="\n"){h.innerActive=h.inner=null}}},electricChars:d.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:d}}}}});