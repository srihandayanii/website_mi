(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineOption("selectionPointer",false,function(g,i){var h=g.state.selectionPointer;if(h){a.off(g.getWrapperElement(),"mousemove",h.mousemove);a.off(g.getWrapperElement(),"mouseout",h.mouseout);a.off(window,"scroll",h.windowScroll);g.off("cursorActivity",d);g.off("scroll",d);g.state.selectionPointer=null;g.display.lineDiv.style.cursor=""}if(i){h=g.state.selectionPointer={value:typeof i=="string"?i:"default",mousemove:function(j){b(g,j)},mouseout:function(j){c(g,j)},windowScroll:function(){d(g)},rects:null,mouseX:null,mouseY:null,willUpdate:false};a.on(g.getWrapperElement(),"mousemove",h.mousemove);a.on(g.getWrapperElement(),"mouseout",h.mouseout);a.on(window,"scroll",h.windowScroll);g.on("cursorActivity",d);g.on("scroll",d)}});function b(g,i){var h=g.state.selectionPointer;if(i.buttons==null?i.which:i.buttons){h.mouseX=h.mouseY=null}else{h.mouseX=i.clientX;h.mouseY=i.clientY}e(g)}function c(g,i){if(!g.getWrapperElement().contains(i.relatedTarget)){var h=g.state.selectionPointer;h.mouseX=h.mouseY=null;e(g)}}function d(g){g.state.selectionPointer.rects=null;e(g)}function e(g){if(!g.state.selectionPointer.willUpdate){g.state.selectionPointer.willUpdate=true;setTimeout(function(){f(g);g.state.selectionPointer.willUpdate=false},50)}}function f(g){var j=g.state.selectionPointer;if(!j){return}if(j.rects==null&&j.mouseX!=null){j.rects=[];if(g.somethingSelected()){for(var n=g.display.selectionDiv.firstChild;n;n=n.nextSibling){j.rects.push(n.getBoundingClientRect())}}}var l=false;if(j.mouseX!=null){for(var k=0;k<j.rects.length;k++){var m=j.rects[k];if(m.left<=j.mouseX&&m.right>=j.mouseX&&m.top<=j.mouseY&&m.bottom>=j.mouseY){l=true}}}var h=l?j.value:"";if(g.display.lineDiv.style.cursor!=h){g.display.lineDiv.style.cursor=h}}});