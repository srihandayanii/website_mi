function splitLines(a){return a.split(/\r\n?|\n/)}var countColumn=function(g,a,h,e,f){if(a==null){a=g.search(/[^\s\u00a0]/);if(a==-1){a=g.length}}for(var b=e||0,c=f||0;;){var d=g.indexOf("\t",b);if(d<0||d>=a){return c+(a-b)}c+=d-b;c+=h-(c%h);b=d+1}};function StringStream(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0}StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(b){var a=this.string.charAt(this.pos);if(typeof b=="string"){var c=a==b}else{var c=a&&(b.test?b.test(a):b(a))}if(c){++this.pos;return a}},eatWhile:function(a){var b=this.pos;while(this.eat(a)){}return this.pos>b},eatSpace:function(){var a=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1){this.pos=b;return true}},backUp:function(a){this.pos-=a},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(e,c,b){if(typeof e=="string"){var a=function(g){return b?g.toLowerCase():g};var f=this.string.substr(this.pos,e.length);if(a(f)==a(e)){if(c!==false){this.pos+=e.length}return true}}else{var d=this.string.slice(this.pos).match(e);if(d&&d.index>0){return null}if(d&&c!==false){this.pos+=d[0].length}return d}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(b,a){this.lineStart+=b;try{return a()}finally{this.lineStart-=b}}};exports.StringStream=StringStream;exports.startState=function(c,a,b){return c.startState?c.startState(a,b):true};var modes=exports.modes={},mimeModes=exports.mimeModes={};exports.defineMode=function(b,a){if(arguments.length>2){a.dependencies=Array.prototype.slice.call(arguments,2)}modes[b]=a};exports.defineMIME=function(a,b){mimeModes[a]=b};exports.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});exports.defineMIME("text/plain","null");exports.resolveMode=function(a){if(typeof a=="string"&&mimeModes.hasOwnProperty(a)){a=mimeModes[a]}else{if(a&&typeof a.name=="string"&&mimeModes.hasOwnProperty(a.name)){a=mimeModes[a.name]}}if(typeof a=="string"){return{name:a}}else{return a||{name:"null"}}};function copyObj(a,d,b){if(!d){d={}}for(var c in a){if(a.hasOwnProperty(c)&&(b!==false||!d.hasOwnProperty(c))){d[c]=a[c]}}return d}var modeExtensions=exports.modeExtensions={};exports.extendMode=function(b,c){var a=modeExtensions.hasOwnProperty(b)?modeExtensions[b]:(modeExtensions[b]={});copyObj(c,a)};exports.getMode=function(d,f){var f=exports.resolveMode(f);var b=modes[f.name];if(!b){return exports.getMode(d,"text/plain")}var c=b(d,f);if(modeExtensions.hasOwnProperty(f.name)){var a=modeExtensions[f.name];for(var e in a){if(!a.hasOwnProperty(e)){continue}if(c.hasOwnProperty(e)){c["_"+e]=c[e]}c[e]=a[e]}}c.name=f.name;if(f.helperType){c.helperType=f.helperType}if(f.modeProps){for(var e in f.modeProps){c[e]=f.modeProps[e]}}return c};exports.registerHelper=exports.registerGlobalHelper=Math.min;exports.runMode=function(l,g,a,h){var f=exports.getMode({indentUnit:2},g);var d=splitLines(l),j=(h&&h.state)||exports.startState(f);for(var c=0,b=d.length;c<b;++c){if(c){a("\n")}var k=new exports.StringStream(d[c]);if(!k.string&&f.blankLine){f.blankLine(j)}while(!k.eol()){var m=f.token(k,j);a(k.current(),m,c,k.start,j);k.start=k.pos}}};require.cache[require.resolve("../../lib/codemirror")]=require.cache[require.resolve("./runmode.node")];require.cache[require.resolve("../../addon/runmode/runmode")]=require.cache[require.resolve("./runmode.node")];