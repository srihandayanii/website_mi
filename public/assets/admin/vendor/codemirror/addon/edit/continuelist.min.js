(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){var c=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,b=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,d=/[*+-]\s/;a.commands.newlineAndIndentContinueMarkdownList=function(g){if(g.getOption("disableInput")){return a.Pass}var q=g.listSelections(),r=[];for(var j=0;j<q.length;j++){var p=q[j].head;var h=g.getStateAfter(p.line);var l=h.list!==false;var m=h.quote!==0;var n=g.getLine(p.line),o=c.exec(n);if(!q[j].empty()||(!l&&!m)||!o){g.execCommand("newlineAndIndent");return}if(b.test(n)){g.replaceRange("",{line:p.line,ch:0},{line:p.line,ch:p.ch+1});r[j]="\n"}else{var k=o[1],e=o[5];var f=d.test(o[2])||o[2].indexOf(">")>=0?o[2]:(parseInt(o[3],10)+1)+o[4];r[j]="\n"+k+f+e}}g.replaceSelections(r)}});