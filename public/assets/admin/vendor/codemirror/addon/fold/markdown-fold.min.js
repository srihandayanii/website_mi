(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerHelper("fold","markdown",function(b,l){var i=100;function f(m){var n=b.getTokenTypeAt(a.Pos(m,0));return n&&/\bheader\b/.test(n)}function e(n,m,p){var o=m&&m.match(/^#+/);if(o&&f(n)){return o[0].length}o=p&&p.match(/^[=\-]+\s*$/);if(o&&f(n+1)){return p[0]=="="?1:2}return i}var d=b.getLine(l.line),j=b.getLine(l.line+1);var h=e(l.line,d,j);if(h===i){return undefined}var g=b.lastLine();var c=l.line,k=b.getLine(c+2);while(c<g){if(e(c+1,j,k)<=h){break}++c;j=k;k=b.getLine(c+2)}return{from:a.Pos(l.line,d.length),to:a.Pos(c,b.getLine(c).length)}})});