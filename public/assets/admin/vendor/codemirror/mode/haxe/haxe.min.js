(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("haxe",function(k,T){var E=k.indentUnit;function J(A){return{type:A,style:"keyword"}}var b=J("keyword a"),f=J("keyword b"),h=J("keyword c");var R=J("operator"),c={type:"atom",style:"atom"},e={type:"attribute",style:"attribute"};var af=J("typedef");var I={"if":b,"while":b,"else":f,"do":f,"try":f,"return":h,"break":h,"continue":h,"new":h,"throw":h,"var":J("var"),inline:e,"static":e,using:J("import"),"public":e,"private":e,cast:J("cast"),"import":J("import"),macro:J("macro"),"function":J("function"),"catch":J("catch"),untyped:J("untyped"),callback:J("cb"),"for":J("for"),"switch":J("switch"),"case":J("case"),"default":J("default"),"in":R,never:J("property_access"),trace:J("trace"),"class":af,"abstract":af,"enum":af,"interface":af,typedef:af,"extends":af,"implements":af,dynamic:af,"true":c,"false":c,"null":c};var H=/[+\-*&%=<>!?|]/;function i(C,B,A){B.tokenize=A;return A(C,B)}function ae(am,A){var B=false,C;while((C=am.next())!=null){if(C==A&&!B){return true}B=!B&&C=="\\"}}var af,m;function ac(C,B,A){af=C;m=A;return B}function w(am,C){var A=am.next();if(A=='"'||A=="'"){return i(am,C,y(A))}else{if(/[\[\]{}\(\),;\:\.]/.test(A)){return ac(A)}else{if(A=="0"&&am.eat(/x/i)){am.eatWhile(/[\da-f]/i);return ac("number","number")}else{if(/\d/.test(A)||A=="-"&&am.eat(/\d/)){am.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/);return ac("number","number")}else{if(C.reAllowed&&(A=="~"&&am.eat(/\//))){ae(am,"/");am.eatWhile(/[gimsu]/);return ac("regexp","string-2")}else{if(A=="/"){if(am.eat("*")){return i(am,C,x)}else{if(am.eat("/")){am.skipToEnd();return ac("comment","comment")}else{am.eatWhile(H);return ac("operator",null,am.current())}}}else{if(A=="#"){am.skipToEnd();return ac("conditional","meta")}else{if(A=="@"){am.eat(/:/);am.eatWhile(/[\w_]/);return ac("metadata","meta")}else{if(H.test(A)){am.eatWhile(H);return ac("operator",null,am.current())}else{var an;if(/[A-Z]/.test(A)){am.eatWhile(/[\w_<>]/);an=am.current();return ac("type","variable-3",an)}else{am.eatWhile(/[\w_]/);var an=am.current(),B=I.propertyIsEnumerable(an)&&I[an];return(B&&C.kwAllowed)?ac(B.type,B.style,an):ac("variable","variable",an)}}}}}}}}}}}function y(A){return function(C,B){if(ae(C,A)){B.tokenize=w}return ac("string","string")}}function x(am,C){var B=false,A;while(A=am.next()){if(A=="/"&&B){C.tokenize=w;break}B=(A=="*")}return ac("comment","comment")}var d={atom:true,number:true,variable:true,string:true,regexp:true};function v(C,B,ao,A,an,am){this.indented=C;this.column=B;this.type=ao;this.prev=an;this.info=am;if(A!=null){this.align=A}}function G(A,C){for(var B=A.localVars;B;B=B.next){if(B.name==C){return true}}}function S(am,ao,ap,C,an){var A=am.cc;n.state=am;n.stream=an;n.marked=null,n.cc=A;if(!am.lexical.hasOwnProperty("align")){am.lexical.align=true}while(true){var B=A.length?A.pop():ad;if(B(ap,C)){while(A.length&&A[A.length-1].lex){A.pop()()}if(n.marked){return n.marked}if(ap=="variable"&&G(am,C)){return"variable-2"}if(ap=="variable"&&D(am,C)){return"variable-3"}return ao}}}function D(C,am){if(/[a-z]/.test(am.charAt(0))){return false}var B=C.importedtypes.length;for(var A=0;A<B;A++){if(C.importedtypes[A]==am){return true}}}function ab(A){var B=n.state;for(var C=B.importedtypes;C;C=C.next){if(C.name==A){return}}B.importedtypes={name:A,next:B.importedtypes}}var n={state:null,column:null,marked:null,cc:null};function U(){for(var A=arguments.length-1;A>=0;A--){n.cc.push(arguments[A])}}function l(){U.apply(null,arguments);return true}function F(B,A){for(var C=A;C;C=C.next){if(C.name==B){return true}}return false}function aa(B){var A=n.state;if(A.context){n.marked="def";if(F(B,A.localVars)){return}A.localVars={name:B,next:A.localVars}}else{if(A.globalVars){if(F(B,A.globalVars)){return}A.globalVars={name:B,next:A.globalVars}}}}var o={name:"this",next:null};function Y(){if(!n.state.context){n.state.localVars=o}n.state.context={prev:n.state.context,vars:n.state.localVars}}function V(){n.state.localVars=n.state.context.vars;n.state.context=n.state.context.prev}V.lex=true;function Z(C,A){var B=function(){var am=n.state;am.lexical=new v(am.indented,n.stream.column(),C,null,am.lexical,A)};B.lex=true;return B}function W(){var A=n.state;if(A.lexical.prev){if(A.lexical.type==")"){A.indented=A.lexical.indented}A.lexical=A.lexical.prev}}W.lex=true;function p(B){function A(C){if(C==B){return l()}else{if(B==";"){return U()}else{return l(A)}}}return A}function ad(A){if(A=="@"){return l(P)}if(A=="var"){return l(Z("vardef"),ak,p(";"),W)}if(A=="keyword a"){return l(Z("form"),q,ad,W)}if(A=="keyword b"){return l(Z("form"),ad,W)}if(A=="{"){return l(Z("}"),Y,g,W,V)}if(A==";"){return l()}if(A=="attribute"){return l(K)}if(A=="function"){return l(u)}if(A=="for"){return l(Z("form"),p("("),Z(")"),s,p(")"),W,ad,W)}if(A=="variable"){return l(Z("stat"),M)}if(A=="switch"){return l(Z("form"),q,Z("}","switch"),p("{"),g,W,W)}if(A=="case"){return l(q,p(":"))}if(A=="default"){return l(p(":"))}if(A=="catch"){return l(Z("form"),Y,p("("),t,p(")"),ad,W,V)}if(A=="import"){return l(z,p(";"))}if(A=="typedef"){return l(ag)}return U(Z("stat"),q,p(";"),W)}function q(A){if(d.hasOwnProperty(A)){return l(N)}if(A=="type"){return l(N)}if(A=="function"){return l(u)}if(A=="keyword c"){return l(L)}if(A=="("){return l(Z(")"),L,p(")"),W,N)}if(A=="operator"){return l(q)}if(A=="["){return l(Z("]"),j(L,"]"),W,N)}if(A=="{"){return l(Z("}"),j(Q,"}"),W,N)}return l()}function L(A){if(A.match(/[;\}\)\],]/)){return U()}return U(q)}function N(A,B){if(A=="operator"&&/\+\+|--/.test(B)){return l(N)}if(A=="operator"||A==":"){return l(q)}if(A==";"){return}if(A=="("){return l(Z(")"),j(q,")"),W,N)}if(A=="."){return l(X,N)}if(A=="["){return l(Z("]"),q,p("]"),W,N)}}function K(A){if(A=="attribute"){return l(K)}if(A=="function"){return l(u)}if(A=="var"){return l(ak)}}function P(A){if(A==":"){return l(P)}if(A=="variable"){return l(P)}if(A=="("){return l(Z(")"),j(O,")"),W,ad)}}function O(A){if(A=="variable"){return l()}}function z(A,B){if(A=="variable"&&/[A-Z]/.test(B.charAt(0))){ab(B);return l()}else{if(A=="variable"||A=="property"||A=="."||B=="*"){return l(z)}}}function ag(A,B){if(A=="variable"&&/[A-Z]/.test(B.charAt(0))){ab(B);return l()}else{if(A=="type"&&/[A-Z]/.test(B.charAt(0))){return l()}}}function M(A){if(A==":"){return l(W,ad)}return U(N,p(";"),W)}function X(A){if(A=="variable"){n.marked="property";return l()}}function Q(A){if(A=="variable"){n.marked="property"}if(d.hasOwnProperty(A)){return l(p(":"),q)}}function j(C,A){function B(am){if(am==","){return l(C,B)}if(am==A){return l()}return l(p(A))}return function(am){if(am==A){return l()}else{return U(C,B)}}}function g(A){if(A=="}"){return l()}return U(ad,g)}function ak(A,B){if(A=="variable"){aa(B);return l(aj,al)}return l()}function al(A,B){if(B=="="){return l(q,al)}if(A==","){return l(ak)}}function s(A,B){if(A=="variable"){aa(B);return l(r,q)}else{return U()}}function r(A,B){if(B=="in"){return l()}}function u(A,B){if(A=="variable"||A=="type"){aa(B);return l(u)}if(B=="new"){return l(u)}if(A=="("){return l(Z(")"),Y,j(t,")"),W,aj,ad,V)}}function aj(A){if(A==":"){return l(ai)}}function ai(A){if(A=="type"){return l()}if(A=="variable"){return l()}if(A=="{"){return l(Z("}"),j(ah,"}"),W)}}function ah(A){if(A=="variable"){return l(aj)}}function t(A,B){if(A=="variable"){aa(B);return l(aj)}}return{startState:function(A){var B=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];var C={tokenize:w,reAllowed:true,kwAllowed:true,cc:[],lexical:new v((A||0)-E,0,"block",false),localVars:T.localVars,importedtypes:B,context:T.localVars&&{vars:T.localVars},indented:0};if(T.globalVars&&typeof T.globalVars=="object"){C.globalVars=T.globalVars}return C},token:function(B,A){if(B.sol()){if(!A.lexical.hasOwnProperty("align")){A.lexical.align=false}A.indented=B.indentation()}if(B.eatSpace()){return null}var C=A.tokenize(B,A);if(af=="comment"){return C}A.reAllowed=!!(af=="operator"||af=="keyword c"||af.match(/^[\[{}\(,;:]$/));A.kwAllowed=af!=".";return S(A,C,af,m,B)},indent:function(am,an){if(am.tokenize!=w){return 0}var B=an&&an.charAt(0),C=am.lexical;if(C.type=="stat"&&B=="}"){C=C.prev}var ao=C.type,A=B==ao;if(ao=="vardef"){return C.indented+4}else{if(ao=="form"&&B=="{"){return C.indented}else{if(ao=="stat"||ao=="form"){return C.indented+E}else{if(C.info=="switch"&&!A){return C.indented+(/^(?:case|default)\b/.test(an)?E:2*E)}else{if(C.align){return C.column+(A?0:1)}else{return C.indented+(A?0:E)}}}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});a.defineMIME("text/x-haxe","haxe");a.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(e,d){var b=e.peek();var c=e.sol();if(b=="#"){e.skipToEnd();return"comment"}if(c&&b=="-"){var f="variable-2";e.eat(/-/);if(e.peek()=="-"){e.eat(/-/);f="keyword a"}if(e.peek()=="D"){e.eat(/[D]/);f="keyword c";d.define=true}e.eatWhile(/[A-Z]/i);return f}var b=e.peek();if(d.inString==false&&b=="'"){d.inString=true;b=e.next()}if(d.inString==true){if(e.skipTo("'")){}else{e.skipToEnd()}if(e.peek()=="'"){e.next();d.inString=false}return"string"}e.next();return null},lineComment:"#"}});a.defineMIME("text/x-hxml","hxml")});