(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("dylan",function(b){var o={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};o.otherDefinition=o.unnamedDefinition.concat(o.namedDefinition).concat(o.otherParameterizedDefinition);o.definition=o.typeParameterizedDefinition.concat(o.otherDefinition);o.parameterizedDefinition=o.typeParameterizedDefinition.concat(o.otherParameterizedDefinition);o.simpleDefinition=o.constantSimpleDefinition.concat(o.variableSimpleDefinition).concat(o.otherSimpleDefinition);o.keyword=o.statement.concat(o.separator).concat(o.other);var j="[-_a-zA-Z?!*@<>$%]+";var i=new RegExp("^"+j);var e={symbolKeyword:j+":",symbolClass:"<"+j+">",symbolGlobal:"\\*"+j+"\\*",symbolConstant:"\\$"+j};var f={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var d in e){if(e.hasOwnProperty(d)){e[d]=new RegExp("^"+e[d])}}e.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var h={};h.keyword="keyword";h.definition="def";h.simpleDefinition="def";h.signalingCalls="builtin";var n={};var g={};["keyword","definition","simpleDefinition","signalingCalls"].forEach(function(p){o[p].forEach(function(q){n[q]=p;g[q]=h[p]})});function c(r,q,p){q.tokenize=p;return p(r,q)}function k(t,s){var p=t.peek();if(p=="'"||p=='"'){t.next();return c(t,s,m(p,"string"))}else{if(p=="/"){t.next();if(t.eat("*")){return c(t,s,l)}else{if(t.eat("/")){t.skipToEnd();return"comment"}}t.backUp(1)}else{if(/[+\-\d\.]/.test(p)){if(t.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||t.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||t.match(/^[+-]?\d+/)){return"number"}}else{if(p=="#"){t.next();p=t.peek();if(p=='"'){t.next();return c(t,s,m('"',"string"))}else{if(p=="b"){t.next();t.eatWhile(/[01]/);return"number"}else{if(p=="x"){t.next();t.eatWhile(/[\da-f]/i);return"number"}else{if(p=="o"){t.next();t.eatWhile(/[0-7]/);return"number"}else{if(p=="#"){t.next();return"punctuation"}else{if((p=="[")||(p=="(")){t.next();return"bracket"}else{if(t.match(/f|t|all-keys|include|key|next|rest/i)){return"atom"}else{t.eatWhile(/[-a-zA-Z]/);return"error"}}}}}}}}else{if(p=="~"){t.next();p=t.peek();if(p=="="){t.next();p=t.peek();if(p=="="){t.next();return"operator"}return"operator"}return"operator"}else{if(p==":"){t.next();p=t.peek();if(p=="="){t.next();return"operator"}else{if(p==":"){t.next();return"punctuation"}}}else{if("[](){}".indexOf(p)!=-1){t.next();return"bracket"}else{if(".,".indexOf(p)!=-1){t.next();return"punctuation"}else{if(t.match("end")){return"keyword"}}}}}}}}}for(var q in e){if(e.hasOwnProperty(q)){var r=e[q];if((r instanceof Array&&r.some(function(u){return t.match(u)}))||t.match(r)){return f[q]}}}if(/[+\-*\/^=<>&|]/.test(p)){t.next();return"operator"}if(t.match("define")){return"def"}else{t.eatWhile(/[\w\-]/);if(n[t.current()]){return g[t.current()]}else{if(t.current().match(i)){return"variable"}else{t.next();return"variable-2"}}}}function l(u,t){var q=false,r=false,s=0,p;while((p=u.next())){if(p=="/"&&q){if(s>0){s--}else{t.tokenize=k;break}}else{if(p=="*"&&r){s++}}q=(p=="*");r=(p=="/")}return"comment"}function m(p,q){return function(v,u){var s=false,t,r=false;while((t=v.next())!=null){if(t==p&&!s){r=true;break}s=!s&&t=="\\"}if(r||!s){u.tokenize=k}return q}}return{startState:function(){return{tokenize:k,currentIndent:0}},token:function(q,p){if(q.eatSpace()){return null}var r=p.tokenize(q,p);return r},blockCommentStart:"/*",blockCommentEnd:"*/"}});a.defineMIME("text/x-dylan","dylan")});