(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("mumps",function(){function l(m){return new RegExp("^(("+m.join(")|(")+"))\\b","i")}var j=new RegExp("^[\\+\\-\\*/&#!_?\\\\<>=\\'\\[\\]]");var e=new RegExp("^(('=)|(<=)|(>=)|('>)|('<)|([[)|(]])|(^$))");var i=new RegExp("^[\\.,:]");var b=new RegExp("[()]");var f=new RegExp("^[%A-Za-z][A-Za-z0-9]*");var d=["break","close","do","else","for","goto","halt","hang","if","job","kill","lock","merge","new","open","quit","read","set","tcommit","trollback","tstart","use","view","write","xecute","b","c","d","e","f","g","h","i","j","k","l","m","n","o","q","r","s","tc","tro","ts","u","v","w","x"];var h=["\\$ascii","\\$char","\\$data","\\$ecode","\\$estack","\\$etrap","\\$extract","\\$find","\\$fnumber","\\$get","\\$horolog","\\$io","\\$increment","\\$job","\\$justify","\\$length","\\$name","\\$next","\\$order","\\$piece","\\$qlength","\\$qsubscript","\\$query","\\$quit","\\$random","\\$reverse","\\$select","\\$stack","\\$test","\\$text","\\$translate","\\$view","\\$x","\\$y","\\$a","\\$c","\\$d","\\$e","\\$ec","\\$es","\\$et","\\$f","\\$fn","\\$g","\\$h","\\$i","\\$j","\\$l","\\$n","\\$na","\\$o","\\$p","\\$q","\\$ql","\\$qs","\\$r","\\$re","\\$s","\\$st","\\$t","\\$tr","\\$v","\\$z"];var g=l(h);var c=l(d);function k(o,n){if(o.sol()){n.label=true;n.commandMode=0}var m=o.peek();if(m==" "||m=="\t"){n.label=false;if(n.commandMode==0){n.commandMode=1}else{if((n.commandMode<0)||(n.commandMode==2)){n.commandMode=0}}}else{if((m!=".")&&(n.commandMode>0)){if(m==":"){n.commandMode=-1}else{n.commandMode=2}}}if((m==="(")||(m==="\u0009")){n.label=false}if(m===";"){o.skipToEnd();return"comment"}if(o.match(/^[-+]?\d+(\.\d+)?([eE][-+]?\d+)?/)){return"number"}if(m=='"'){if(o.skipTo('"')){o.next();return"string"}else{o.skipToEnd();return"error"}}if(o.match(e)||o.match(j)){return"operator"}if(o.match(i)){return null}if(b.test(m)){o.next();return"bracket"}if(n.commandMode>0&&o.match(c)){return"variable-2"}if(o.match(g)){return"builtin"}if(o.match(f)){return"variable"}if(m==="$"||m==="^"){o.next();return"builtin"}if(m==="@"){o.next();return"string-2"}if(/[\w%]/.test(m)){o.eatWhile(/[\w%]/);return"variable"}o.next();return"error"}return{startState:function(){return{label:false,commandMode:0}},token:function(n,m){var o=k(n,m);if(m.label){return"tag"}return o}}});a.defineMIME("text/x-mumps","mumps")});