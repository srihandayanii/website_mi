(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("apl",function(){var c={".":"innerProduct","\\":"scan","/":"reduce","?":"reduce1Axis","?":"scan1Axis","¨":"each","?":"power"};var b={"+":["conjugate","add"],"-":["negate","subtract"],"×":["signOf","multiply"],"÷":["reciprocal","divide"],"?":["ceiling","greaterOf"],"?":["floor","lesserOf"],"|":["absolute","residue"],"?":["indexGenerate","indexOf"],"?":["roll","deal"],"?":["exponentiate","toThePowerOf"],"?":["naturalLog","logToTheBase"],"?":["piTimes","circularFuncs"],"!":["factorial","binomial"],"?":["matrixInverse","matrixDivide"],"<":[null,"lessThan"],"=":[null,"lessThanOrEqual"],"=":[null,"equals"],">":[null,"greaterThan"],"=":[null,"greaterThanOrEqual"],"?":[null,"notEqual"],"=":["depth","match"],"?":[null,"notMatch"],"?":["enlist","membership"],"?":[null,"find"],"?":["unique","union"],n:[null,"intersection"],"~":["not","without"],"?":[null,"or"],"?":[null,"and"],"?":[null,"nor"],"?":[null,"nand"],"?":["shapeOf","reshape"],",":["ravel","catenate"],"?":[null,"firstAxisCatenate"],"?":["reverse","rotate"],"?":["axis1Reverse","axis1Rotate"],"?":["transpose",null],"?":["first","take"],"?":[null,"drop"],"?":["enclose","partitionWithAxis"],"?":["diclose","pick"],"?":[null,"index"],"?":["gradeUp",null],"?":["gradeDown",null],"?":["encode",null],"?":["decode",null],"?":["format","formatByExample"],"?":["execute",null],"?":["stop","left"],"?":["pass","right"]};var h=/[\.\/??¨?]/;var g=/?/;var f=/[\+-×÷??|?\????!?<==>=?=????n~?????,?????????????????]/;var d=/?/;var e=/[?#].*$/;var i=function(k){var j;j=false;return function(l){j=l;if(l===k){return j==="\\"}return true}};return{startState:function(){return{prev:false,func:false,op:false,string:false,escape:false}},token:function(m,l){var j,k;if(m.eatSpace()){return null}j=m.next();if(j==='"'||j==="'"){m.eatWhile(i(j));m.next();l.prev=true;return"string"}if(/[\[{\(]/.test(j)){l.prev=false;return null}if(/[\]}\)]/.test(j)){l.prev=true;return null}if(g.test(j)){l.prev=false;return"niladic"}if(/[¯\d]/.test(j)){if(l.func){l.func=false;l.prev=false}else{l.prev=true}m.eatWhile(/[\w\.]/);return"number"}if(h.test(j)){return"operator apl-"+c[j]}if(d.test(j)){return"apl-arrow"}if(f.test(j)){k="apl-";if(b[j]!=null){if(l.prev){k+=b[j][1]}else{k+=b[j][0]}}l.func=true;l.prev=false;return"function "+k}if(e.test(j)){m.skipToEnd();return"comment"}if(j==="°"&&m.peek()==="."){m.next();return"function jot-dot"}m.eatWhile(/[\w\$_]/);l.prev=true;return"keyword"}}});a.defineMIME("text/apl","apl")});