(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerHelper("wordChars","r",/[\w.]/);a.defineMode("r",function(e){function m(p){var q=p.split(" "),o={};for(var n=0;n<q.length;++n){o[q[n]]=true}return o}var b=m("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_");var d=m("list quote bquote eval return call parse deparse");var g=m("if else repeat while function for in next break");var c=m("if else repeat while function for");var h=/[+\-*\/^<>=!&|~$:]/;var f;function k(p,o){f=null;var n=p.next();if(n=="#"){p.skipToEnd();return"comment"}else{if(n=="0"&&p.eat("x")){p.eatWhile(/[\da-f]/i);return"number"}else{if(n=="."&&p.eat(/\d/)){p.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else{if(/\d/.test(n)){p.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else{if(n=="'"||n=='"'){o.tokenize=l(n);return"string"}else{if(n=="."&&p.match(/.[.\d]+/)){return"keyword"}else{if(/[\w\.]/.test(n)&&n!="_"){p.eatWhile(/[\w\.]/);var q=p.current();if(b.propertyIsEnumerable(q)){return"atom"}if(g.propertyIsEnumerable(q)){if(c.propertyIsEnumerable(q)&&!p.match(/\s*if(\s+|$)/,false)){f="block"}return"keyword"}if(d.propertyIsEnumerable(q)){return"builtin"}return"variable"}else{if(n=="%"){if(p.skipTo("%")){p.next()}return"variable-2"}else{if(n=="<"&&p.eat("-")){return"arrow"}else{if(n=="="&&o.ctx.argList){return"arg-is"}else{if(h.test(n)){if(n=="$"){return"dollar"}p.eatWhile(h);return"operator"}else{if(/[\(\){}\[\];]/.test(n)){f=n;if(n==";"){return"semi"}return null}else{return null}}}}}}}}}}}}}function l(n){return function(r,q){if(r.eat("\\")){var o=r.next();if(o=="x"){r.match(/^[a-f0-9]{2}/i)}else{if((o=="u"||o=="U")&&r.eat("{")&&r.skipTo("}")){r.next()}else{if(o=="u"){r.match(/^[a-f0-9]{4}/i)}else{if(o=="U"){r.match(/^[a-f0-9]{8}/i)}else{if(/[0-7]/.test(o)){r.match(/^[0-7]{1,2}/)}}}}}return"string-2"}else{var p;while((p=r.next())!=null){if(p==n){q.tokenize=k;break}if(p=="\\"){r.backUp(1);break}}return"string"}}}function j(n,p,o){n.ctx={type:p,indent:n.indent,align:null,column:o.column(),prev:n.ctx}}function i(n){n.indent=n.ctx.indent;n.ctx=n.ctx.prev}return{startState:function(){return{tokenize:k,ctx:{type:"top",indent:-e.indentUnit,align:false},indent:0,afterIdent:false}},token:function(p,o){if(p.sol()){if(o.ctx.align==null){o.ctx.align=false}o.indent=p.indentation()}if(p.eatSpace()){return null}var q=o.tokenize(p,o);if(q!="comment"&&o.ctx.align==null){o.ctx.align=true}var n=o.ctx.type;if((f==";"||f=="{"||f=="}")&&n=="block"){i(o)}if(f=="{"){j(o,"}",p)}else{if(f=="("){j(o,")",p);if(o.afterIdent){o.ctx.argList=true}}else{if(f=="["){j(o,"]",p)}else{if(f=="block"){j(o,"block",p)}else{if(f==n){i(o)}}}}}o.afterIdent=q=="variable"||q=="keyword";return q},indent:function(q,r){if(q.tokenize!=k){return 0}var p=r&&r.charAt(0),o=q.ctx,n=p==o.type;if(o.type=="block"){return o.indent+(p=="{"?0:e.indentUnit)}else{if(o.align){return o.column+(n?0:1)}else{return o.indent+(n?0:e.indentUnit)}}},lineComment:"#"}});a.defineMIME("text/x-rsrc","r")});