(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){var c={mscgen:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},xu:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs","watermark"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},msgenny:{keywords:null,options:["hscale","width","arcgradient","wordwraparcs","watermark"],attributes:null,brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]}};a.defineMode("mscgen",function(h,j){var i=c[j&&j.language||"mscgen"];return{startState:e,copyState:b,token:d(i),lineComment:"#",blockCommentStart:"/*",blockCommentEnd:"*/"}});a.defineMIME("text/x-mscgen","mscgen");a.defineMIME("text/x-xu",{name:"mscgen",language:"xu"});a.defineMIME("text/x-msgenny",{name:"mscgen",language:"msgenny"});function g(h){return new RegExp("\\b("+h.join("|")+")\\b","i")}function f(h){return new RegExp("("+h.join("|")+")","i")}function e(){return{inComment:false,inString:false,inAttributeList:false,inScript:false}}function b(h){return{inComment:h.inComment,inString:h.inString,inAttributeList:h.inAttributeList,inScript:h.inScript}}function d(h){return function(j,i){if(j.match(f(h.brackets),true,true)){return"bracket"}if(!i.inComment){if(j.match(/\/\*[^\*\/]*/,true,true)){i.inComment=true;return"comment"}if(j.match(f(h.singlecomment),true,true)){j.skipToEnd();return"comment"}}if(i.inComment){if(j.match(/[^\*\/]*\*\//,true,true)){i.inComment=false}else{j.skipToEnd()}return"comment"}if(!i.inString&&j.match(/\"(\\\"|[^\"])*/,true,true)){i.inString=true;return"string"}if(i.inString){if(j.match(/[^\"]*\"/,true,true)){i.inString=false}else{j.skipToEnd()}return"string"}if(!!h.keywords&&j.match(g(h.keywords),true,true)){return"keyword"}if(j.match(g(h.options),true,true)){return"keyword"}if(j.match(g(h.arcsWords),true,true)){return"keyword"}if(j.match(f(h.arcsOthers),true,true)){return"keyword"}if(!!h.operators&&j.match(f(h.operators),true,true)){return"operator"}if(!h.inAttributeList&&!!h.attributes&&j.match(/\[/,true,true)){h.inAttributeList=true;return"bracket"}if(h.inAttributeList){if(h.attributes!==null&&j.match(g(h.attributes),true,true)){return"attribute"}if(j.match(/]/,true,true)){h.inAttributeList=false;return"bracket"}}j.next();return"base"}}});