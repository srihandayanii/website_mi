(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){function c(h){var g={},j=h.split(",");for(var f=0;f<j.length;++f){var d=j[f].toUpperCase();var e=j[f].charAt(0).toUpperCase()+j[f].slice(1);g[j[f]]=true;g[d]=true;g[e]=true}return g}function b(d){d.eatWhile(/[\w\$_]/);return"meta"}a.defineMode("vhdl",function(f,n){var j=f.indentUnit,d=n.atoms||c("null"),i=n.hooks||{"`":b,"$":b},m=n.multiLineStrings;var l=c("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor");var e=c("architecture,entity,begin,case,port,else,elsif,end,for,function,if");var k=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;var h;function q(x,w){var t=x.next();if(i[t]){var v=i[t](x,w);if(v!==false){return v}}if(t=='"'){w.tokenize=s(t);return w.tokenize(x,w)}if(t=="'"){w.tokenize=r(t);return w.tokenize(x,w)}if(/[\[\]{}\(\),;\:\.]/.test(t)){h=t;return null}if(/[\d']/.test(t)){x.eatWhile(/[\w\.']/);return"number"}if(t=="-"){if(x.eat("-")){x.skipToEnd();return"comment"}}if(k.test(t)){x.eatWhile(k);return"operator"}x.eatWhile(/[\w\$_]/);var u=x.current();if(l.propertyIsEnumerable(u.toLowerCase())){if(e.propertyIsEnumerable(u)){h="newstatement"}return"keyword"}if(d.propertyIsEnumerable(u)){return"atom"}return"variable"}function r(t){return function(y,x){var v=false,w,u=false;while((w=y.next())!=null){if(w==t&&!v){u=true;break}v=!v&&w=="--"}if(u||!(v||m)){x.tokenize=q}return"string"}}function s(t){return function(y,x){var v=false,w,u=false;while((w=y.next())!=null){if(w==t&&!v){u=true;break}v=!v&&w=="--"}if(u||!(v||m)){x.tokenize=q}return"string-2"}}function g(v,u,x,t,w){this.indented=v;this.column=u;this.type=x;this.align=t;this.prev=w}function p(u,t,v){return u.context=new g(u.indented,t,v,null,u.context)}function o(u){var v=u.context.type;if(v==")"||v=="]"||v=="}"){u.indented=u.context.indented}return u.context=u.context.prev}return{startState:function(t){return{tokenize:null,context:new g((t||0)-j,0,"top",false),indented:0,startOfLine:true}},token:function(v,u){var t=u.context;if(v.sol()){if(t.align==null){t.align=false}u.indented=v.indentation();u.startOfLine=true}if(v.eatSpace()){return null}h=null;var w=(u.tokenize||q)(v,u);if(w=="comment"||w=="meta"){return w}if(t.align==null){t.align=true}if((h==";"||h==":")&&t.type=="statement"){o(u)}else{if(h=="{"){p(u,v.column(),"}")}else{if(h=="["){p(u,v.column(),"]")}else{if(h=="("){p(u,v.column(),")")}else{if(h=="}"){while(t.type=="statement"){t=o(u)}if(t.type=="}"){t=o(u)}while(t.type=="statement"){t=o(u)}}else{if(h==t.type){o(u)}else{if(t.type=="}"||t.type=="top"||(t.type=="statement"&&h=="newstatement")){p(u,v.column(),"statement")}}}}}}}u.startOfLine=false;return w},indent:function(w,x){if(w.tokenize!=q&&w.tokenize!=null){return 0}var v=x&&x.charAt(0),u=w.context,t=v==u.type;if(u.type=="statement"){return u.indented+(v=="{"?0:j)}else{if(u.align){return u.column+(t?0:1)}else{return u.indented+(t?0:j)}}},electricChars:"{}"}});a.defineMIME("text/x-vhdl","vhdl")});