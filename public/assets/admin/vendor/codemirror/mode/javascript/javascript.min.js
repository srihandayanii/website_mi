(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){function b(e,d,c){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(d.lastType)||(d.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(c||0))))}a.defineMode("javascript",function(r,al){var M=r.indentUnit;var aA=al.statementIndent;var T=al.jsonld;var U=al.json||T;var R=al.typescript;var aN=al.wordCharacters||/[\w$\xa1-\uffff]/;var V=function(){function aU(aY){return{type:aY,style:"keyword"}}var aO=aU("keyword a"),aR=aU("keyword b"),aS=aU("keyword c");var aV=aU("operator"),aP={type:"atom",style:"atom"};var aT={"if":aU("if"),"while":aO,"with":aO,"else":aR,"do":aR,"try":aR,"finally":aR,"return":aS,"break":aS,"continue":aS,"new":aU("new"),"delete":aS,"throw":aS,"debugger":aS,"var":aU("var"),"const":aU("var"),let:aU("var"),"function":aU("function"),"catch":aU("catch"),"for":aU("for"),"switch":aU("switch"),"case":aU("case"),"default":aU("default"),"in":aV,"typeof":aV,"instanceof":aV,"true":aP,"false":aP,"null":aP,"undefined":aP,"NaN":aP,"Infinity":aP,"this":aU("this"),"class":aU("class"),"super":aU("atom"),yield:aS,"export":aU("export"),"import":aU("import"),"extends":aS,await:aS,async:aU("async")};if(R){var aX={type:"variable",style:"variable-3"};var aW={"interface":aU("class"),"implements":aS,namespace:aS,module:aU("module"),"enum":aU("module"),"public":aU("modifier"),"private":aU("modifier"),"protected":aU("modifier"),"abstract":aU("modifier"),as:aV,string:aX,number:aX,"boolean":aX,any:aX};for(var aQ in aW){aT[aQ]=aW[aQ]}}return aT}();var Q=/[+\-*&%=<>!?|~^]/;var P=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function aw(aR){var aO=false,aQ,aP=false;while((aQ=aR.next())!=null){if(!aO){if(aQ=="/"&&!aP){return}if(aQ=="["){aP=true}else{if(aP&&aQ=="]"){aP=false}}}aO=!aO&&aQ=="\\"}}var aH,u;function ay(aQ,aP,aO){aH=aQ;u=aO;return aP}function aD(aR,aQ){var aO=aR.next();if(aO=='"'||aO=="'"){aQ.tokenize=aG(aO);return aQ.tokenize(aR,aQ)}else{if(aO=="."&&aR.match(/^\d+(?:[eE][+\-]?\d+)?/)){return ay("number","number")}else{if(aO=="."&&aR.match("..")){return ay("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(aO)){return ay(aO)}else{if(aO=="="&&aR.eat(">")){return ay("=>","operator")}else{if(aO=="0"&&aR.eat(/x/i)){aR.eatWhile(/[\da-f]/i);return ay("number","number")}else{if(aO=="0"&&aR.eat(/o/i)){aR.eatWhile(/[0-7]/i);return ay("number","number")}else{if(aO=="0"&&aR.eat(/b/i)){aR.eatWhile(/[01]/i);return ay("number","number")}else{if(/\d/.test(aO)){aR.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return ay("number","number")}else{if(aO=="/"){if(aR.eat("*")){aQ.tokenize=aE;return aE(aR,aQ)}else{if(aR.eat("/")){aR.skipToEnd();return ay("comment","comment")}else{if(b(aR,aQ,1)){aw(aR);aR.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return ay("regexp","string-2")}else{aR.eatWhile(Q);return ay("operator","operator",aR.current())}}}}else{if(aO=="`"){aQ.tokenize=aF;return aF(aR,aQ)}else{if(aO=="#"){aR.skipToEnd();return ay("error","error")}else{if(Q.test(aO)){aR.eatWhile(Q);return ay("operator","operator",aR.current())}else{if(aN.test(aO)){aR.eatWhile(aN);var aS=aR.current(),aP=V.propertyIsEnumerable(aS)&&V[aS];return(aP&&aQ.lastType!=".")?ay(aP.type,aP.style,aS):ay("variable","variable",aS)}}}}}}}}}}}}}}}function aG(aO){return function(aS,aR){var aP=false,aQ;if(T&&aS.peek()=="@"&&aS.match(P)){aR.tokenize=aD;return ay("jsonld-keyword","meta")}while((aQ=aS.next())!=null){if(aQ==aO&&!aP){break}aP=!aP&&aQ=="\\"}if(!aP){aR.tokenize=aD}return ay("string","string")}}function aE(aR,aQ){var aP=false,aO;while(aO=aR.next()){if(aO=="/"&&aP){aQ.tokenize=aD;break}aP=(aO=="*")}return ay("comment","comment")}function aF(aR,aQ){var aO=false,aP;while((aP=aR.next())!=null){if(!aO&&(aP=="`"||aP=="$"&&aR.eat("{"))){aQ.tokenize=aD;break}aO=!aO&&aP=="\\"}return ay("quasi","string-2",aR.current())}var l="([{}])";function C(aV,aU){if(aU.fatArrowAt){aU.fatArrowAt=null}var aO=aV.string.indexOf("=>",aV.start);if(aO<0){return}var aR=0,aT=false;for(var aS=aO-1;aS>=0;--aS){var aQ=aV.string.charAt(aS);var aP=l.indexOf(aQ);if(aP>=0&&aP<3){if(!aR){++aS;break}if(--aR==0){if(aQ=="("){aT=true}break}}else{if(aP>=3&&aP<6){++aR}else{if(aN.test(aQ)){aT=true}else{if(/["'\/]/.test(aQ)){return}else{if(aT&&!aR){++aS;break}}}}}}if(aT&&!aR){aU.fatArrowAt=aS}}var j={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function S(aQ,aP,aT,aO,aS,aR){this.indented=aQ;this.column=aP;this.type=aT;this.prev=aS;this.info=aR;if(aO!=null){this.align=aO}}function N(aP,aR){for(var aQ=aP.localVars;aQ;aQ=aQ.next){if(aQ.name==aR){return true}}for(var aO=aP.context;aO;aO=aO.prev){for(var aQ=aO.vars;aQ;aQ=aQ.next){if(aQ.name==aR){return true}}}}function ak(aR,aT,aU,aQ,aS){var aO=aR.cc;w.state=aR;w.stream=aS;w.marked=null,w.cc=aO;w.style=aT;if(!aR.lexical.hasOwnProperty("align")){aR.lexical.align=true}while(true){var aP=aO.length?aO.pop():U?z:az;if(aP(aU,aQ)){while(aO.length&&aO[aO.length-1].lex){aO.pop()()}if(w.marked){return w.marked}if(aU=="variable"&&N(aR,aQ)){return"variable-2"}return aT}}}var w={state:null,column:null,marked:null,cc:null};function am(){for(var aO=arguments.length-1;aO>=0;aO--){w.cc.push(arguments[aO])}}function s(){am.apply(null,arguments);return true}function ax(aQ){function aO(aR){for(var aS=aR;aS;aS=aS.next){if(aS.name==aQ){return true}}return false}var aP=w.state;w.marked="def";if(aP.context){if(aO(aP.localVars)){return}aP.localVars={name:aQ,next:aP.localVars}}else{if(aO(aP.globalVars)){return}if(al.globalVars){aP.globalVars={name:aQ,next:aP.globalVars}}}}var x={name:"this",next:{name:"arguments"}};function at(){w.state.context={prev:w.state.context,vars:w.state.localVars};w.state.localVars=x}function ao(){w.state.localVars=w.state.context.vars;w.state.context=w.state.context.prev}function au(aQ,aO){var aP=function(){var aT=w.state,aR=aT.indented;if(aT.lexical.type=="stat"){aR=aT.lexical.indented}else{for(var aS=aT.lexical;aS&&aS.type==")"&&aS.align;aS=aS.prev){aR=aS.indented}}aT.lexical=new S(aR,w.stream.column(),aQ,null,aT.lexical,aO)};aP.lex=true;return aP}function ap(){var aO=w.state;if(aO.lexical.prev){if(aO.lexical.type==")"){aO.indented=aO.lexical.indented}aO.lexical=aO.lexical.prev}}ap.lex=true;function y(aP){function aO(aQ){if(aQ==aP){return s()}else{if(aP==";"){return am()}else{return s(aO)}}}return aO}function az(aO,aP){if(aO=="var"){return s(au("vardef",aP.length),aL,y(";"),ap)}if(aO=="keyword a"){return s(au("form"),z,az,ap)}if(aO=="keyword b"){return s(au("form"),az,ap)}if(aO=="{"){return s(au("}"),k,ap)}if(aO==";"){return s()}if(aO=="if"){if(w.state.lexical.info=="else"&&w.state.cc[w.state.cc.length-1]==ap){w.state.cc.pop()()}return s(au("form"),z,az,ap,Z)}if(aO=="function"){return s(J)}if(aO=="for"){return s(au("form"),E,az,ap)}if(aO=="variable"){return s(au("stat"),ad)}if(aO=="switch"){return s(au("form"),z,au("}","switch"),y("{"),k,ap,ap)}if(aO=="case"){return s(z,y(":"))}if(aO=="default"){return s(y(":"))}if(aO=="catch"){return s(au("form"),at,y("("),I,y(")"),az,ap,ao)}if(aO=="class"){return s(au("form"),o,ap)}if(aO=="export"){return s(au("stat"),c,ap)}if(aO=="import"){return s(au("stat"),d,ap)}if(aO=="module"){return s(au("form"),an,au("}"),y("{"),k,ap,ap)}if(aO=="async"){return s(az)}return am(au("stat"),z,y(";"),ap)}function z(aO){return A(aO,false)}function B(aO){return A(aO,true)}function A(aR,aQ){if(w.state.fatArrowAt==w.stream.start){var aO=aQ?i:h;if(aR=="("){return s(at,au(")"),q(an,")"),ap,y("=>"),aO,ao)}else{if(aR=="variable"){return am(at,an,y("=>"),aO,ao)}}}var aP=aQ?af:ae;if(j.hasOwnProperty(aR)){return s(aP)}if(aR=="function"){return s(J,aP)}if(aR=="keyword c"||aR=="async"){return s(aQ?ab:aa)}if(aR=="("){return s(au(")"),aa,y(")"),ap,aP)}if(aR=="operator"||aR=="spread"){return s(aQ?B:z)}if(aR=="["){return s(au("]"),g,ap,aP)}if(aR=="{"){return t(aj,"}",null,aP)}if(aR=="quasi"){return am(av,aP)}if(aR=="new"){return s(ah(aQ))}return s()}function aa(aO){if(aO.match(/[;\}\)\],]/)){return am()}return am(z)}function ab(aO){if(aO.match(/[;\}\)\],]/)){return am()}return am(B)}function ae(aO,aP){if(aO==","){return s(z)}return af(aO,aP,false)}function af(aR,aS,aQ){var aP=aQ==false?ae:af;var aO=aQ==false?z:B;if(aR=="=>"){return s(at,aQ?i:h,ao)}if(aR=="operator"){if(/\+\+|--/.test(aS)){return s(aP)}if(aS=="?"){return s(z,y(":"),aO)}return s(aO)}if(aR=="quasi"){return am(av,aP)}if(aR==";"){return}if(aR=="("){return t(B,")","call",aP)}if(aR=="."){return s(aq,aP)}if(aR=="["){return s(au("]"),aa,y("]"),ap,aP)}}function av(aO,aP){if(aO!="quasi"){return am()}if(aP.slice(aP.length-2)!="${"){return s(av)}return s(z,v)}function v(aO){if(aO=="}"){w.marked="string-2";w.state.tokenize=aF;return s(av)}}function h(aO){C(w.stream,w.state);return am(aO=="{"?az:z)}function i(aO){C(w.stream,w.state);return am(aO=="{"?az:B)}function ah(aO){return function(aP){if(aP=="."){return s(aO?aC:aB)}else{return am(aO?B:z)}}}function aB(aO,aP){if(aP=="target"){w.marked="keyword";return s(ae)}}function aC(aO,aP){if(aP=="target"){w.marked="keyword";return s(af)}}function ad(aO){if(aO==":"){return s(ap,az)}return am(ae,y(";"),ap)}function aq(aO){if(aO=="variable"){w.marked="property";return s()}}function aj(aO,aP){if(aO=="async"){w.marked="property";return s(aj)}else{if(aO=="variable"||w.style=="keyword"){w.marked="property";if(aP=="get"||aP=="set"){return s(K)}return s(e)}else{if(aO=="number"||aO=="string"){w.marked=T?"property":(w.style+" property");return s(e)}else{if(aO=="jsonld-keyword"){return s(e)}else{if(aO=="modifier"){return s(aj)}else{if(aO=="["){return s(z,y("]"),e)}else{if(aO=="spread"){return s(z)}else{if(aO==":"){return am(e)}}}}}}}}}function K(aO){if(aO!="variable"){return am(e)}w.marked="property";return s(J)}function e(aO){if(aO==":"){return s(B)}if(aO=="("){return am(J)}}function q(aQ,aO){function aP(aS,aT){if(aS==","){var aR=w.state.lexical;if(aR.info=="call"){aR.pos=(aR.pos||0)+1}return s(function(aU,aV){if(aU==aO||aV==aO){return am()}return am(aQ)},aP)}if(aS==aO||aT==aO){return s()}return s(y(aO))}return function(aR,aS){if(aR==aO||aS==aO){return s()}return am(aQ,aP)}}function t(aR,aO,aQ){for(var aP=3;aP<arguments.length;aP++){w.cc.push(arguments[aP])}return s(au(aO,aQ),q(aR,aO),ap)}function k(aO){if(aO=="}"){return s()}return am(az,k)}function ai(aO){if(R&&aO==":"){return s(aJ)}}function Y(aO,aP){if(aP=="="){return s(B)}}function aJ(aO){if(aO=="variable"){w.marked="variable-3";return s(f)}if(aO=="{"){return s(q(aK,"}"))}if(aO=="("){return s(q(aI,")"),ag)}}function ag(aO){if(aO=="=>"){return s(aJ)}}function aK(aO){if(aO=="variable"||w.style=="keyword"){w.marked="property";return s(aK)}else{if(aO==":"){return s(aJ)}}}function aI(aO){if(aO=="variable"){return s(aI)}else{if(aO==":"){return s(aJ)}}}function f(aO,aP){if(aP=="<"){return s(q(aJ,">"),f)}if(aO=="["){return s(y("]"),f)}}function aL(){return am(an,ai,X,aM)}function an(aO,aP){if(aO=="modifier"){return s(an)}if(aO=="variable"){ax(aP);return s()}if(aO=="spread"){return s(an)}if(aO=="["){return t(an,"]")}if(aO=="{"){return t(ar,"}")}}function ar(aO,aP){if(aO=="variable"&&!w.stream.match(/^\s*:/,false)){ax(aP);return s(X)}if(aO=="variable"){w.marked="property"}if(aO=="spread"){return s(an)}if(aO=="}"){return am()}return s(y(":"),an,X)}function X(aO,aP){if(aP=="="){return s(B)}}function aM(aO){if(aO==","){return s(aL)}}function Z(aO,aP){if(aO=="keyword b"&&aP=="else"){return s(au("form","else"),az,ap)}}function E(aO){if(aO=="("){return s(au(")"),F,y(")"),ap)}}function F(aO){if(aO=="var"){return s(aL,y(";"),G)}if(aO==";"){return s(G)}if(aO=="variable"){return s(D)}return am(z,y(";"),G)}function D(aO,aP){if(aP=="in"||aP=="of"){w.marked="keyword";return s(z)}return s(ae,G)}function G(aO,aP){if(aO==";"){return s(H)}if(aP=="in"||aP=="of"){w.marked="keyword";return s(z)}return am(z,y(";"),H)}function H(aO){if(aO!=")"){s(z)}}function J(aO,aP){if(aP=="*"){w.marked="keyword";return s(J)}if(aO=="variable"){ax(aP);return s(J)}if(aO=="("){return s(at,au(")"),q(I,")"),ap,ai,az,ao)}}function I(aO){if(aO=="spread"){return s(I)}return am(an,ai,Y)}function o(aO,aP){if(aO=="variable"){ax(aP);return s(p)}}function p(aO,aP){if(aP=="extends"){return s(R?aJ:z,p)}if(aO=="{"){return s(au("}"),m,ap)}}function m(aO,aP){if(aO=="variable"||w.style=="keyword"){if(aP=="static"){w.marked="keyword";return s(m)}w.marked="property";if(aP=="get"||aP=="set"){return s(n,J,m)}return s(J,m)}if(aP=="*"){w.marked="keyword";return s(m)}if(aO==";"){return s(m)}if(aO=="}"){return s()}}function n(aO){if(aO!="variable"){return am()}w.marked="property";return s()}function c(aO,aP){if(aP=="*"){w.marked="keyword";return s(ac,y(";"))}if(aP=="default"){w.marked="keyword";return s(z,y(";"))}return am(az)}function d(aO){if(aO=="string"){return s()}return am(L,ac)}function L(aO,aP){if(aO=="{"){return t(L,"}")}if(aO=="variable"){ax(aP)}if(aP=="*"){w.marked="keyword"}return s(W)}function W(aO,aP){if(aP=="as"){w.marked="keyword";return s(L)}}function ac(aO,aP){if(aP=="from"){w.marked="keyword";return s(z)}}function g(aO){if(aO=="]"){return s()}return am(q(B,"]"))}function O(aO,aP){return aO.lastType=="operator"||aO.lastType==","||Q.test(aP.charAt(0))||/[,.]/.test(aP.charAt(0))}return{startState:function(aO){var aP={tokenize:aD,lastType:"sof",cc:[],lexical:new S((aO||0)-M,0,"block",false),localVars:al.localVars,context:al.localVars&&{vars:al.localVars},indented:aO||0};if(al.globalVars&&typeof al.globalVars=="object"){aP.globalVars=al.globalVars}return aP},token:function(aP,aO){if(aP.sol()){if(!aO.lexical.hasOwnProperty("align")){aO.lexical.align=false}aO.indented=aP.indentation();C(aP,aO)}if(aO.tokenize!=aE&&aP.eatSpace()){return null}var aQ=aO.tokenize(aP,aO);if(aH=="comment"){return aQ}aO.lastType=aH=="operator"&&(u=="++"||u=="--")?"incdec":aH;return ak(aO,aQ,aH,u,aP)},indent:function(aT,aU){if(aT.tokenize==aE){return a.Pass}if(aT.tokenize!=aD){return 0}var aQ=aU&&aU.charAt(0),aS=aT.lexical;if(!/^\s*else\b/.test(aU)){for(var aR=aT.cc.length-1;aR>=0;--aR){var aO=aT.cc[aR];if(aO==ap){aS=aS.prev}else{if(aO!=Z){break}}}}if(aS.type=="stat"&&aQ=="}"){aS=aS.prev}if(aA&&aS.type==")"&&aS.prev.type=="stat"){aS=aS.prev}var aV=aS.type,aP=aQ==aV;if(aV=="vardef"){return aS.indented+(aT.lastType=="operator"||aT.lastType==","?aS.info+1:0)}else{if(aV=="form"&&aQ=="{"){return aS.indented}else{if(aV=="form"){return aS.indented+M}else{if(aV=="stat"){return aS.indented+(O(aT,aU)?aA||M:0)}else{if(aS.info=="switch"&&!aP&&al.doubleIndentSwitch!=false){return aS.indented+(/^(?:case|default)\b/.test(aU)?M:2*M)}else{if(aS.align){return aS.column+(aP?0:1)}else{return aS.indented+(aP?0:M)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:U?null:"/*",blockCommentEnd:U?null:"*/",lineComment:U?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:U?"json":"javascript",jsonldMode:T,jsonMode:U,expressionAllowed:b,skipExpression:function(aO){var aP=aO.cc[aO.cc.length-1];if(aP==z||aP==B){aO.cc.pop()}}}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});