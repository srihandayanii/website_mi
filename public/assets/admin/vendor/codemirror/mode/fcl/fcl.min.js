(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("fcl",function(c){var f=c.indentUnit;var h={term:true,method:true,accu:true,rule:true,then:true,is:true,and:true,or:true,"if":true,"default":true};var k={var_input:true,var_output:true,fuzzify:true,defuzzify:true,function_block:true,ruleblock:true};var e={end_ruleblock:true,end_defuzzify:true,end_function_block:true,end_fuzzify:true,end_var:true};var b={"true":true,"false":true,nan:true,real:true,min:true,max:true,cog:true,cogs:true};var g=/[+\-*&^%:=<>!|\/]/;function l(q,p){var n=q.next();if(/[\d\.]/.test(n)){if(n=="."){q.match(/^[0-9]+([eE][\-+]?[0-9]+)?/)}else{if(n=="0"){q.match(/^[xX][0-9a-fA-F]+/)||q.match(/^0[0-7]+/)}else{q.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/)}}return"number"}if(n=="/"||n=="("){if(q.eat("*")){p.tokenize=m;return m(q,p)}if(q.eat("/")){q.skipToEnd();return"comment"}}if(g.test(n)){q.eatWhile(g);return"operator"}q.eatWhile(/[\w\$_\xa1-\uffff]/);var o=q.current().toLowerCase();if(h.propertyIsEnumerable(o)||k.propertyIsEnumerable(o)||e.propertyIsEnumerable(o)){return"keyword"}if(b.propertyIsEnumerable(o)){return"atom"}return"variable"}function m(q,p){var o=false,n;while(n=q.next()){if((n=="/"||n==")")&&o){p.tokenize=l;break}o=(n=="*")}return"comment"}function d(p,o,r,n,q){this.indented=p;this.column=o;this.type=r;this.align=n;this.prev=q}function j(o,n,p){return o.context=new d(o.indented,n,p,null,o.context)}function i(n){if(!n.context.prev){return}var o=n.context.type;if(o=="end_block"){n.indented=n.context.indented}return n.context=n.context.prev}return{startState:function(n){return{tokenize:null,context:new d((n||0)-f,0,"top",false),indented:0,startOfLine:true}},token:function(q,p){var n=p.context;if(q.sol()){if(n.align==null){n.align=false}p.indented=q.indentation();p.startOfLine=true}if(q.eatSpace()){return null}var r=(p.tokenize||l)(q,p);if(r=="comment"){return r}if(n.align==null){n.align=true}var o=q.current().toLowerCase();if(k.propertyIsEnumerable(o)){j(p,q.column(),"end_block")}else{if(e.propertyIsEnumerable(o)){i(p)}}p.startOfLine=false;return r},indent:function(p,q){if(p.tokenize!=l&&p.tokenize!=null){return 0}var o=p.context;var n=e.propertyIsEnumerable(q);if(o.align){return o.column+(n?0:1)}else{return o.indented+(n?0:f)}},electricChars:"ryk",fold:"brace",blockCommentStart:"(*",blockCommentEnd:"*)",lineComment:"//"}});a.defineMIME("text/x-fcl","fcl")});