(function(a){var d={series:{images:{show:false,alpha:1,anchor:"corner"}}};a.plot.image={};a.plot.image.loadDataImages=function(j,h,f){var k=[],i=[];var g=h.series.images.show;a.each(j,function(l,m){if(!(g||m.images.show)){return}if(m.data){m=m.data}a.each(m,function(n,o){if(typeof o[0]=="string"){k.push(o[0]);i.push(o)}})});a.plot.image.load(k,function(l){a.each(i,function(m,n){var o=n[0];if(l[o]){n[0]=l[o]}});f()})};a.plot.image.load=function(i,f){var h=i.length,g={};if(h==0){f({})}a.each(i,function(k,l){var j=function(){--h;g[l]=this;if(h==0){f(g)}};a("<img />").load(j).error(j).attr("src",l)})};function b(j,f,n){var k=j.getPlotOffset();if(!n.images||!n.images.show){return}var l=n.datapoints.points,m=n.datapoints.pointsize;for(var g=0;g<l.length;g+=m){var h=l[g],t=l[g+1],w=l[g+2],u=l[g+3],x=l[g+4],v=n.xaxis,y=n.yaxis,s;if(!h||h.width<=0||h.height<=0){continue}if(t>u){s=u;u=t;t=s}if(w>x){s=x;x=w;w=s}if(n.images.anchor=="center"){s=0.5*(u-t)/(h.width-1);t-=s;u+=s;s=0.5*(x-w)/(h.height-1);w-=s;x+=s}if(t==u||w==x||t>=v.max||u<=v.min||w>=y.max||x<=y.min){continue}var o=0,q=0,p=h.width,r=h.height;if(t<v.min){o+=(p-o)*(v.min-t)/(u-t);t=v.min}if(u>v.max){p+=(p-o)*(v.max-u)/(u-t);u=v.max}if(w<y.min){r+=(q-r)*(y.min-w)/(x-w);w=y.min}if(x>y.max){q+=(q-r)*(y.max-x)/(x-w);x=y.max}t=v.p2c(t);u=v.p2c(u);w=y.p2c(w);x=y.p2c(x);if(t>u){s=u;u=t;t=s}if(w>x){s=x;x=w;w=s}s=f.globalAlpha;f.globalAlpha*=n.images.alpha;f.drawImage(h,o,q,p-o,r-q,t+k.left,w+k.top,u-t,x-w);f.globalAlpha=s}}function e(h,i,f,g){if(!i.images.show){return}g.format=[{required:true},{x:true,number:true,required:true},{y:true,number:true,required:true},{x:true,number:true,required:true},{y:true,number:true,required:true}]}function c(f){f.hooks.processRawData.push(e);f.hooks.drawSeries.push(b)}a.plot.plugins.push({init:c,options:d,name:"image",version:"1.1"})})(jQuery);