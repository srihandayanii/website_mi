(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){var b={exports:{}};(function(){var j,k,f,g,h,i,l,m,e=[].slice,d={}.hasOwnProperty,c=function(n,q){for(var p in q){if(d.call(q,p)){n[p]=q[p]}}function o(){this.constructor=n}o.prototype=q.prototype;n.prototype=new o();n.__super__=q.prototype;return n};l=function(){};k=(function(){function n(){}n.prototype.addEventListener=n.prototype.on;n.prototype.on=function(o,p){this._callbacks=this._callbacks||{};if(!this._callbacks[o]){this._callbacks[o]=[]}this._callbacks[o].push(p);return this};n.prototype.emit=function(){var q,r,s,t,o,p;t=arguments[0],q=2<=arguments.length?e.call(arguments,1):[];this._callbacks=this._callbacks||{};s=this._callbacks[t];if(s){for(o=0,p=s.length;o<p;o++){r=s[o];r.apply(this,q)}}return this};n.prototype.removeListener=n.prototype.off;n.prototype.removeAllListeners=n.prototype.off;n.prototype.removeEventListener=n.prototype.off;n.prototype.off=function(s,t){var q,r,u,o,p;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}r=this._callbacks[s];if(!r){return this}if(arguments.length===1){delete this._callbacks[s];return this}for(u=o=0,p=r.length;o<p;u=++o){q=r[u];if(q===t){r.splice(u,1);break}}return this};return n})();j=(function(n){var p,q;c(o,n);o.prototype.Emitter=k;o.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];o.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(s,r){return r()},init:function(){return l},forceFallback:false,fallback:function(){var u,v,w,r,s,t;this.element.className=""+this.element.className+" dz-browser-not-supported";t=this.element.getElementsByTagName("div");for(r=0,s=t.length;r<s;r++){u=t[r];if(/(^| )dz-message($| )/.test(u.className)){v=u;u.className="dz-message";continue}}if(!v){v=o.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(v)}w=v.getElementsByTagName("span")[0];if(w){if(w.textContent!=null){w.textContent=this.options.dictFallbackMessage}else{if(w.innerText!=null){w.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function(r){var s,t,u;s={srcX:0,srcY:0,srcWidth:r.width,srcHeight:r.height};t=r.width/r.height;s.optWidth=this.options.thumbnailWidth;s.optHeight=this.options.thumbnailHeight;if((s.optWidth==null)&&(s.optHeight==null)){s.optWidth=s.srcWidth;s.optHeight=s.srcHeight}else{if(s.optWidth==null){s.optWidth=t*s.optHeight}else{if(s.optHeight==null){s.optHeight=(1/t)*s.optWidth}}}u=s.optWidth/s.optHeight;if(r.height<s.optHeight||r.width<s.optWidth){s.trgHeight=s.srcHeight;s.trgWidth=s.srcWidth}else{if(t>u){s.srcHeight=r.height;s.srcWidth=s.srcHeight*u}else{s.srcWidth=r.width;s.srcHeight=s.srcWidth/u}}s.srcX=(r.width-s.srcWidth)/2;s.srcY=(r.height-s.srcHeight)/2;return s},drop:function(r){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(r){return this.element.classList.remove("dz-drag-hover")},dragenter:function(r){return this.element.classList.add("dz-drag-hover")},dragover:function(r){return this.element.classList.add("dz-drag-hover")},dragleave:function(r){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(B){var C,D,E,r,s,t,u,v,w,x,y,z,A;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){B.previewElement=o.createElement(this.options.previewTemplate.trim());B.previewTemplate=B.previewElement;this.previewsContainer.appendChild(B.previewElement);x=B.previewElement.querySelectorAll("[data-dz-name]");for(r=0,u=x.length;r<u;r++){C=x[r];C.textContent=this._renameFilename(B.name)}y=B.previewElement.querySelectorAll("[data-dz-size]");for(s=0,v=y.length;s<v;s++){C=y[s];C.innerHTML=this.filesize(B.size)}if(this.options.addRemoveLinks){B._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");B.previewElement.appendChild(B._removeLink)}D=(function(F){return function(G){G.preventDefault();G.stopPropagation();if(B.status===o.UPLOADING){return o.confirm(F.options.dictCancelUploadConfirmation,function(){return F.removeFile(B)})}else{if(F.options.dictRemoveFileConfirmation){return o.confirm(F.options.dictRemoveFileConfirmation,function(){return F.removeFile(B)})}else{return F.removeFile(B)}}}})(this);z=B.previewElement.querySelectorAll("[data-dz-remove]");A=[];for(t=0,w=z.length;t<w;t++){E=z[t];A.push(E.addEventListener("click",D))}return A}},removedfile:function(s){var r;if(s.previewElement){if((r=s.previewElement)!=null){r.parentNode.removeChild(s.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(v,u){var w,r,s,t;if(v.previewElement){v.previewElement.classList.remove("dz-file-preview");t=v.previewElement.querySelectorAll("[data-dz-thumbnail]");for(r=0,s=t.length;r<s;r++){w=t[r];w.alt=v.name;w.src=u}return setTimeout(((function(x){return function(){return v.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(v,w){var x,r,s,t,u;if(v.previewElement){v.previewElement.classList.add("dz-error");if(typeof w!=="String"&&w.error){w=w.error}t=v.previewElement.querySelectorAll("[data-dz-errormessage]");u=[];for(r=0,s=t.length;r<s;r++){x=t[r];u.push(x.textContent=w)}return u}},errormultiple:l,processing:function(r){if(r.previewElement){r.previewElement.classList.add("dz-processing");if(r._removeLink){return r._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:l,uploadprogress:function(w,y,v){var x,r,s,t,u;if(w.previewElement){t=w.previewElement.querySelectorAll("[data-dz-uploadprogress]");u=[];for(r=0,s=t.length;r<s;r++){x=t[r];if(x.nodeName==="PROGRESS"){u.push(x.value=y)}else{u.push(x.style.width=""+y+"%")}}return u}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(r){if(r.previewElement){return r.previewElement.classList.add("dz-success")}},successmultiple:l,canceled:function(r){return this.emit("error",r,"Upload canceled.")},canceledmultiple:l,complete:function(r){if(r._removeLink){r._removeLink.textContent=this.options.dictRemoveFile}if(r.previewElement){return r.previewElement.classList.add("dz-complete")}},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};p=function(){var t,u,v,w,x,r,s;w=arguments[0],v=2<=arguments.length?e.call(arguments,1):[];for(r=0,s=v.length;r<s;r++){u=v[r];for(t in u){x=u[t];w[t]=x}}return w};function o(s,v){var t,u,r;this.element=s;this.version=o.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}o.instances.push(this);this.element.dropzone=this;t=(r=o.optionsForElement(this.element))!=null?r:{};this.options=p({},this.defaultOptions,t,v!=null?v:{});if(this.options.forceFallback||!o.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((u=this.getExistingFallback())&&u.parentNode){u.parentNode.removeChild(u)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=o.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=o.getElements(this.options.clickable,"clickable")}}this.init()}o.prototype.getAcceptedFiles=function(){var v,r,s,t,u;t=this.files;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];if(v.accepted){u.push(v)}}return u};o.prototype.getRejectedFiles=function(){var v,r,s,t,u;t=this.files;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];if(!v.accepted){u.push(v)}}return u};o.prototype.getFilesWithStatus=function(w){var v,r,s,t,u;t=this.files;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];if(v.status===w){u.push(v)}}return u};o.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(o.QUEUED)};o.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(o.UPLOADING)};o.prototype.getAddedFiles=function(){return this.getFilesWithStatus(o.ADDED)};o.prototype.getActiveFiles=function(){var v,r,s,t,u;t=this.files;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];if(v.status===o.UPLOADING||v.status===o.QUEUED){u.push(v)}}return u};o.prototype.init=function(){var v,w,x,r,s,t,u;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){x=(function(y){return function(){if(y.hiddenFileInput){y.hiddenFileInput.parentNode.removeChild(y.hiddenFileInput)}y.hiddenFileInput=document.createElement("input");y.hiddenFileInput.setAttribute("type","file");if((y.options.maxFiles==null)||y.options.maxFiles>1){y.hiddenFileInput.setAttribute("multiple","multiple")}y.hiddenFileInput.className="dz-hidden-input";if(y.options.acceptedFiles!=null){y.hiddenFileInput.setAttribute("accept",y.options.acceptedFiles)}if(y.options.capture!=null){y.hiddenFileInput.setAttribute("capture",y.options.capture)}y.hiddenFileInput.style.visibility="hidden";y.hiddenFileInput.style.position="absolute";y.hiddenFileInput.style.top="0";y.hiddenFileInput.style.left="0";y.hiddenFileInput.style.height="0";y.hiddenFileInput.style.width="0";document.querySelector(y.options.hiddenInputContainer).appendChild(y.hiddenFileInput);return y.hiddenFileInput.addEventListener("change",function(){var B,C,z,A;C=y.hiddenFileInput.files;if(C.length){for(z=0,A=C.length;z<A;z++){B=C[z];y.addFile(B)}}y.emit("addedfiles",C);return x()})}})(this);x()}this.URL=(t=window.URL)!=null?t:window.webkitURL;u=this.events;for(r=0,s=u.length;r<s;r++){v=u[r];this.on(v,this.options[v])}this.on("uploadprogress",(function(y){return function(){return y.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(y){return function(){return y.updateTotalUploadProgress()}})(this));this.on("canceled",(function(y){return function(z){return y.emit("complete",z)}})(this));this.on("complete",(function(y){return function(z){if(y.getAddedFiles().length===0&&y.getUploadingFiles().length===0&&y.getQueuedFiles().length===0){return setTimeout((function(){return y.emit("queuecomplete")}),0)}}})(this));w=function(y){y.stopPropagation();if(y.preventDefault){return y.preventDefault()}else{return y.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:(function(y){return function(z){return y.emit("dragstart",z)}})(this),dragenter:(function(y){return function(z){w(z);return y.emit("dragenter",z)}})(this),dragover:(function(y){return function(A){var B;try{B=A.dataTransfer.effectAllowed}catch(z){}A.dataTransfer.dropEffect="move"===B||"linkMove"===B?"move":"copy";w(A);return y.emit("dragover",A)}})(this),dragleave:(function(y){return function(z){return y.emit("dragleave",z)}})(this),drop:(function(y){return function(z){w(z);return y.drop(z)}})(this),dragend:(function(y){return function(z){return y.emit("dragend",z)}})(this)}}];this.clickableElements.forEach((function(y){return function(z){return y.listeners.push({element:z,events:{click:function(A){if((z!==y.element)||(A.target===y.element||o.elementInside(A.target,y.element.querySelector(".dz-message")))){y.hiddenFileInput.click()}return true}}})}})(this));this.enable();return this.options.init.call(this)};o.prototype.destroy=function(){var r;this.disable();this.removeAllFiles(true);if((r=this.hiddenFileInput)!=null?r.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return o.instances.splice(o.instances.indexOf(this),1)};o.prototype.updateTotalUploadProgress=function(){var u,v,w,x,y,r,s,t;x=0;w=0;u=this.getActiveFiles();if(u.length){t=this.getActiveFiles();for(r=0,s=t.length;r<s;r++){v=t[r];x+=v.upload.bytesSent;w+=v.upload.total}y=100*x/w}else{y=100}return this.emit("totaluploadprogress",y,w,x)};o.prototype._getParamName=function(r){if(typeof this.options.paramName==="function"){return this.options.paramName(r)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+r+"]":"")}};o.prototype._renameFilename=function(r){if(typeof this.options.renameFilename!=="function"){return r}return this.options.renameFilename(r)};o.prototype.getFallbackForm=function(){var r,s,t,u;if(r=this.getExistingFallback()){return r}t='<div class="dz-fallback">';if(this.options.dictFallbackText){t+="<p>"+this.options.dictFallbackText+"</p>"}t+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';s=o.createElement(t);if(this.element.tagName!=="FORM"){u=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');u.appendChild(s)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return u!=null?u:s};o.prototype.getExistingFallback=function(){var u,v,w,r,s,t;v=function(A){var z,x,y;for(x=0,y=A.length;x<y;x++){z=A[x];if(/(^| )fallback($| )/.test(z.className)){return z}}};t=["div","form"];for(r=0,s=t.length;r<s;r++){w=t[r];if(u=v(this.element.getElementsByTagName(w))){return u}}};o.prototype.setupEventListeners=function(){var v,w,x,r,s,t,u;t=this.listeners;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];u.push((function(){var y,z;y=v.events;z=[];for(w in y){x=y[w];z.push(v.element.addEventListener(w,x,false))}return z})())}return u};o.prototype.removeEventListeners=function(){var v,w,x,r,s,t,u;t=this.listeners;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];u.push((function(){var y,z;y=v.events;z=[];for(w in y){x=y[w];z.push(v.element.removeEventListener(w,x,false))}return z})())}return u};o.prototype.disable=function(){var v,r,s,t,u;this.clickableElements.forEach(function(w){return w.classList.remove("dz-clickable")});this.removeEventListeners();t=this.files;u=[];for(r=0,s=t.length;r<s;r++){v=t[r];u.push(this.cancelUpload(v))}return u};o.prototype.enable=function(){this.clickableElements.forEach(function(r){return r.classList.add("dz-clickable")});return this.setupEventListeners()};o.prototype.filesize=function(x){var t,u,v,w,y,z,r,s;v=0;w="b";if(x>0){z=["TB","GB","MB","KB","b"];for(u=r=0,s=z.length;r<s;u=++r){y=z[u];t=Math.pow(this.options.filesizeBase,4-u)/10;if(x>=t){v=x/Math.pow(this.options.filesizeBase,4-u);w=y;break}}v=Math.round(10*v)/10}return"<strong>"+v+"</strong> "+w};o.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};o.prototype.drop=function(r){var s,t;if(!r.dataTransfer){return}this.emit("drop",r);s=r.dataTransfer.files;this.emit("addedfiles",s);if(s.length){t=r.dataTransfer.items;if(t&&t.length&&(t[0].webkitGetAsEntry!=null)){this._addFilesFromItems(t)}else{this.handleFiles(s)}}};o.prototype.paste=function(s){var t,r;if((s!=null?(r=s.clipboardData)!=null?r.items:void 0:void 0)==null){return}this.emit("paste",s);t=s.clipboardData.items;if(t.length){return this._addFilesFromItems(t)}};o.prototype.handleFiles=function(v){var u,r,s,t;t=[];for(r=0,s=v.length;r<s;r++){u=v[r];t.push(this.addFile(u))}return t};o.prototype._addFilesFromItems=function(w){var u,v,r,s,t;t=[];for(r=0,s=w.length;r<s;r++){v=w[r];if((v.webkitGetAsEntry!=null)&&(u=v.webkitGetAsEntry())){if(u.isFile){t.push(this.addFile(v.getAsFile()))}else{if(u.isDirectory){t.push(this._addFilesFromDirectory(u,u.name))}else{t.push(void 0)}}}else{if(v.getAsFile!=null){if((v.kind==null)||v.kind==="file"){t.push(this.addFile(v.getAsFile()))}else{t.push(void 0)}}else{t.push(void 0)}}}return t};o.prototype._addFilesFromDirectory=function(r,u){var s,t,v;s=r.createReader();t=function(w){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(w):void 0:void 0};v=(function(w){return function(){return s.readEntries(function(z){var A,x,y;if(z.length>0){for(x=0,y=z.length;x<y;x++){A=z[x];if(A.isFile){A.file(function(B){if(w.options.ignoreHiddenFiles&&B.name.substring(0,1)==="."){return}B.fullPath=""+u+"/"+B.name;return w.addFile(B)})}else{if(A.isDirectory){w._addFilesFromDirectory(A,""+u+"/"+A.name)}}}v()}return null},t)}})(this);return v()};o.prototype.accept=function(s,r){if(s.size>this.options.maxFilesize*1024*1024){return r(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(s.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!o.isValidFile(s,this.options.acceptedFiles)){return r(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){r(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",s)}else{return this.options.accept.call(this,s,r)}}}};o.prototype.addFile=function(r){r.upload={progress:0,total:r.size,bytesSent:0};this.files.push(r);r.status=o.ADDED;this.emit("addedfile",r);this._enqueueThumbnail(r);return this.accept(r,(function(s){return function(t){if(t){r.accepted=false;s._errorProcessing([r],t)}else{r.accepted=true;if(s.options.autoQueue){s.enqueueFile(r)}}return s._updateMaxFilesReachedClass()}})(this))};o.prototype.enqueueFiles=function(u){var t,r,s;for(r=0,s=u.length;r<s;r++){t=u[r];this.enqueueFile(t)}return null};o.prototype.enqueueFile=function(r){if(r.status===o.ADDED&&r.accepted===true){r.status=o.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(s){return function(){return s.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};o.prototype._thumbnailQueue=[];o.prototype._processingThumbnail=false;o.prototype._enqueueThumbnail=function(r){if(this.options.createImageThumbnails&&r.type.match(/image.*/)&&r.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(r);return setTimeout(((function(s){return function(){return s._processThumbnailQueue()}})(this)),0)}};o.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(r){return function(){r._processingThumbnail=false;return r._processThumbnailQueue()}})(this))};o.prototype.removeFile=function(r){if(r.status===o.UPLOADING){this.cancelUpload(r)}this.files=m(this.files,r);this.emit("removedfile",r);if(this.files.length===0){return this.emit("reset")}};o.prototype.removeAllFiles=function(u){var v,r,s,t;if(u==null){u=false}t=this.files.slice();for(r=0,s=t.length;r<s;r++){v=t[r];if(v.status!==o.UPLOADING||u){this.removeFile(v)}}return null};o.prototype.createThumbnail=function(s,r){var t;t=new FileReader;t.onload=(function(u){return function(){if(s.type==="image/svg+xml"){u.emit("thumbnail",s,t.result);if(r!=null){r()}return}return u.createThumbnailFromUrl(s,t.result,r)}})(this);return t.readAsDataURL(s)};o.prototype.createThumbnailFromUrl=function(t,u,r,s){var v;v=document.createElement("img");if(s){v.crossOrigin=s}v.onload=(function(w){return function(){var B,C,D,E,x,y,z,A;t.width=v.width;t.height=v.height;D=w.options.resize.call(w,t);if(D.trgWidth==null){D.trgWidth=D.optWidth}if(D.trgHeight==null){D.trgHeight=D.optHeight}B=document.createElement("canvas");C=B.getContext("2d");B.width=D.trgWidth;B.height=D.trgHeight;i(C,v,(x=D.srcX)!=null?x:0,(y=D.srcY)!=null?y:0,D.srcWidth,D.srcHeight,(z=D.trgX)!=null?z:0,(A=D.trgY)!=null?A:0,D.trgWidth,D.trgHeight);E=B.toDataURL("image/png");w.emit("thumbnail",t,E);if(r!=null){return r()}}})(this);if(r!=null){v.onerror=r}return v.src=u};o.prototype.processQueue=function(){var r,s,t,u;s=this.options.parallelUploads;t=this.getUploadingFiles().length;r=t;if(t>=s){return}u=this.getQueuedFiles();if(!(u.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(u.slice(0,s-t))}else{while(r<s){if(!u.length){return}this.processFile(u.shift());r++}}};o.prototype.processFile=function(r){return this.processFiles([r])};o.prototype.processFiles=function(u){var t,r,s;for(r=0,s=u.length;r<s;r++){t=u[r];t.processing=true;t.status=o.UPLOADING;this.emit("processing",t)}if(this.options.uploadMultiple){this.emit("processingmultiple",u)}return this.uploadFiles(u)};o.prototype._getFilesWithXhr=function(t){var r,s;return s=(function(){var u,v,w,x;w=this.files;x=[];for(u=0,v=w.length;u<v;u++){r=w[u];if(r.xhr===t){x.push(r)}}return x}).call(this)};o.prototype.cancelUpload=function(w){var x,y,r,s,t,u,v;if(w.status===o.UPLOADING){y=this._getFilesWithXhr(w.xhr);for(r=0,t=y.length;r<t;r++){x=y[r];x.status=o.CANCELED}w.xhr.abort();for(s=0,u=y.length;s<u;s++){x=y[s];this.emit("canceled",x)}if(this.options.uploadMultiple){this.emit("canceledmultiple",y)}}else{if((v=w.status)===o.ADDED||v===o.QUEUED){w.status=o.CANCELED;this.emit("canceled",w);if(this.options.uploadMultiple){this.emit("canceledmultiple",[w])}}}if(this.options.autoProcessQueue){return this.processQueue()}};q=function(){var r,s;s=arguments[0],r=2<=arguments.length?e.call(arguments,1):[];if(typeof s==="function"){return s.apply(this,r)}return s};o.prototype.uploadFile=function(r){return this.uploadFiles([r])};o.prototype.uploadFiles=function(H){var G,I,J,K,M,L,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;Z=new XMLHttpRequest();for(r=0,v=H.length;r<v;r++){G=H[r];G.xhr=Z}S=q(this.options.method,H);X=q(this.options.url,H);Z.open(S,X,true);Z.withCredentials=!!this.options.withCredentials;V=null;J=(function(aa){return function(){var ab,ac,ad;ad=[];for(ab=0,ac=H.length;ab<ac;ab++){G=H[ab];ad.push(aa._errorProcessing(H,V||aa.options.dictResponseError.replace("{{statusCode}}",Z.status),Z))}return ad}})(this);W=(function(aa){return function(aj){var ai,ak,ab,ac,ad,ae,af,ag,ah;if(aj!=null){ak=100*aj.loaded/aj.total;for(ab=0,ae=H.length;ab<ae;ab++){G=H[ab];G.upload={progress:ak,total:aj.total,bytesSent:aj.loaded}}}else{ai=true;ak=100;for(ac=0,af=H.length;ac<af;ac++){G=H[ac];if(!(G.upload.progress===100&&G.upload.bytesSent===G.upload.total)){ai=false}G.upload.progress=ak;G.upload.bytesSent=G.upload.total}if(ai){return}}ah=[];for(ad=0,ag=H.length;ad<ag;ad++){G=H[ad];ah.push(aa.emit("uploadprogress",G,ak,G.upload.bytesSent))}return ah}})(this);Z.onload=(function(aa){return function(ad){var ac;if(H[0].status===o.CANCELED){return}if(Z.readyState!==4){return}V=Z.responseText;if(Z.getResponseHeader("content-type")&&~Z.getResponseHeader("content-type").indexOf("application/json")){try{V=JSON.parse(V)}catch(ab){ad=ab;V="Invalid JSON response from server."}}W();if(!((200<=(ac=Z.status)&&ac<300))){return J()}else{return aa._finished(H,V,ad)}}})(this);Z.onerror=(function(aa){return function(){if(H[0].status===o.CANCELED){return}return J()}})(this);U=(A=Z.upload)!=null?A:Z;U.onprogress=W;L={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){p(L,this.options.headers)}for(K in L){M=L[K];if(M){Z.setRequestHeader(K,M)}}I=new FormData();if(this.options.params){B=this.options.params;for(R in B){Y=B[R];I.append(R,Y)}}for(s=0,w=H.length;s<w;s++){G=H[s];this.emit("sending",G,Z,I)}if(this.options.uploadMultiple){this.emit("sendingmultiple",H,Z,I)}if(this.element.tagName==="FORM"){C=this.element.querySelectorAll("input, textarea, select, button");for(t=0,x=C.length;t<x;t++){O=C[t];P=O.getAttribute("name");Q=O.getAttribute("type");if(O.tagName==="SELECT"&&O.hasAttribute("multiple")){D=O.options;for(u=0,y=D.length;u<y;u++){T=D[u];if(T.selected){I.append(P,T.value)}}}else{if(!Q||((E=Q.toLowerCase())!=="checkbox"&&E!=="radio")||O.checked){I.append(P,O.value)}}}}for(N=z=0,F=H.length-1;0<=F?z<=F:z>=F;N=0<=F?++z:--z){I.append(this._getParamName(N),H[N],this._renameFilename(H[N].name))}return this.submitRequest(Z,I,H)};o.prototype.submitRequest=function(t,s,r){return t.send(s)};o.prototype._finished=function(v,w,t){var u,r,s;for(r=0,s=v.length;r<s;r++){u=v[r];u.status=o.SUCCESS;this.emit("success",u,w,t);this.emit("complete",u)}if(this.options.uploadMultiple){this.emit("successmultiple",v,w,t);this.emit("completemultiple",v)}if(this.options.autoProcessQueue){return this.processQueue()}};o.prototype._errorProcessing=function(u,v,w){var t,r,s;for(r=0,s=u.length;r<s;r++){t=u[r];t.status=o.ERROR;this.emit("error",t,v,w);this.emit("complete",t)}if(this.options.uploadMultiple){this.emit("errormultiple",u,v,w);this.emit("completemultiple",u)}if(this.options.autoProcessQueue){return this.processQueue()}};return o})(k);j.version="4.3.0";j.options={};j.optionsForElement=function(n){if(n.getAttribute("id")){return j.options[f(n.getAttribute("id"))]}else{return void 0}};j.instances=[];j.forElement=function(n){if(typeof n==="string"){n=document.querySelector(n)}if((n!=null?n.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return n.dropzone};j.autoDiscover=true;j.discover=function(){var q,r,s,n,o,p;if(document.querySelectorAll){s=document.querySelectorAll(".dropzone")}else{s=[];q=function(x){var w,t,u,v;v=[];for(t=0,u=x.length;t<u;t++){w=x[t];if(/(^| )dropzone($| )/.test(w.className)){v.push(s.push(w))}else{v.push(void 0)}}return v};q(document.getElementsByTagName("div"));q(document.getElementsByTagName("form"))}p=[];for(n=0,o=s.length;n<o;n++){r=s[n];if(j.optionsForElement(r)!==false){p.push(new j(r))}else{p.push(void 0)}}return p};j.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];j.isBrowserSupported=function(){var q,r,n,o,p;q=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){q=false}else{p=j.blacklistedBrowsers;for(n=0,o=p.length;n<o;n++){r=p[n];if(r.test(navigator.userAgent)){q=false;continue}}}}else{q=false}return q};m=function(r,s){var q,n,o,p;p=[];for(n=0,o=r.length;n<o;n++){q=r[n];if(q!==s){p.push(q)}}return p};f=function(n){return n.replace(/[\-_](\w)/g,function(o){return o.charAt(1).toUpperCase()})};j.createElement=function(o){var n;n=document.createElement("div");n.innerHTML=o;return n.childNodes[0]};j.elementInside=function(o,n){if(o===n){return true}while(o=o.parentNode){if(o===n){return true}}return false};j.getElement=function(n,p){var o;if(typeof n==="string"){o=document.querySelector(n)}else{if(n.nodeType!=null){o=n}}if(o==null){throw new Error("Invalid `"+p+"` option provided. Please provide a CSS selector or a plain HTML element.")}return o};j.getElements=function(w,x){var t,u,v,o,p,q,r,s;if(w instanceof Array){v=[];try{for(o=0,q=w.length;o<q;o++){u=w[o];v.push(this.getElement(u,x))}}catch(n){t=n;v=null}}else{if(typeof w==="string"){v=[];s=document.querySelectorAll(w);for(p=0,r=s.length;p<r;p++){u=s[p];v.push(u)}}else{if(w.nodeType!=null){v=[w]}}}if(!((v!=null)&&v.length)){throw new Error("Invalid `"+x+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return v};j.confirm=function(o,n,p){if(window.confirm(o)){return n()}else{if(p!=null){return p()}}};j.isValidFile=function(r,p){var q,s,t,n,o;if(!p){return true}p=p.split(",");s=r.type;q=s.replace(/\/.*$/,"");for(n=0,o=p.length;n<o;n++){t=p[n];t=t.trim();if(t.charAt(0)==="."){if(r.name.toLowerCase().indexOf(t.toLowerCase(),r.name.length-t.length)!==-1){return true}}else{if(/\/\*$/.test(t)){if(q===t.replace(/\/.*$/,"")){return true}}else{if(s===t){return true}}}}return false};if(typeof a!=="undefined"&&a!==null){a.fn.dropzone=function(n){return this.each(function(){return new j(this,n)})}}if(typeof b!=="undefined"&&b!==null){b.exports=j}else{window.Dropzone=j}j.ADDED="added";j.QUEUED="queued";j.ACCEPTED=j.QUEUED;j.UPLOADING="uploading";j.PROCESSING=j.UPLOADING;j.CANCELED="canceled";j.ERROR="error";j.SUCCESS="success";h=function(t){var n,o,p,q,r,s,u,v,w,x;u=t.naturalWidth;s=t.naturalHeight;o=document.createElement("canvas");o.width=1;o.height=s;p=o.getContext("2d");p.drawImage(t,0,0);q=p.getImageData(0,0,1,s).data;x=0;r=s;v=s;while(v>x){n=q[(v-1)*4+3];if(n===0){r=v}else{x=v}v=(r+x)>>1}w=v/s;if(w===0){return 1}else{return w}};i=function(n,s,v,w,u,t,q,r,p,o){var x;x=h(s);return n.drawImage(s,v,w,u,t,q,r,p,o/x)};g=function(y,r){var o,p,q,s,t,u,v,w,x;q=false;x=true;p=y.document;w=p.documentElement;o=(p.addEventListener?"addEventListener":"attachEvent");v=(p.addEventListener?"removeEventListener":"detachEvent");u=(p.addEventListener?"":"on");s=function(z){if(z.type==="readystatechange"&&p.readyState!=="complete"){return}(z.type==="load"?y:p)[v](u+z.type,s,false);if(!q&&(q=true)){return r.call(y,z.type||z)}};t=function(){var A;try{w.doScroll("left")}catch(z){A=z;setTimeout(t,50);return}return s("poll")};if(p.readyState!=="complete"){if(p.createEventObject&&w.doScroll){try{x=!y.frameElement}catch(n){}if(x){t()}}p[o](u+"DOMContentLoaded",s,false);p[o](u+"readystatechange",s,false);return y[o](u+"load",s,false)}};j._autoDiscoverFunction=function(){if(j.autoDiscover){return j.discover()}};g(window,j._autoDiscoverFunction)}).call(this);return b.exports}));